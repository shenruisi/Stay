(()=>{var t={9662:(t,e,n)=>{var r=n(614),o=n(6330),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a function")}},6077:(t,e,n)=>{var r=n(614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},5787:(t,e,n)=>{var r=n(7976),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw o("Incorrect invocation")}},9670:(t,e,n)=>{var r=n(111),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not an object")}},1318:(t,e,n)=>{function r(t){return function(e,n,r){var s,l=o(e),c=a(l),u=i(r,c);if(t&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}var o=n(5656),i=n(1400),a=n(6244);t.exports={includes:r(!0),indexOf:r(!1)}},3658:(t,e,n)=>{"use strict";var r=n(9781),o=n(3157),i=TypeError,a=Object.getOwnPropertyDescriptor;n=r&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=n?function(t,e){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:(t,e,n)=>{n=n(1702);var r=n({}.toString),o=n("".slice);t.exports=function(t){return o(r(t),8,-1)}},648:(t,e,n)=>{var r=n(1694),o=n(614),i=n(4326),a=n(5112)("toStringTag"),s=Object,l="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=s(t),a))?e:l?i(t):"Object"==(e=i(t))&&o(t.callee)?"Arguments":e}},9920:(t,e,n)=>{var r=n(2597),o=n(3887),i=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=o(e),l=a.f,c=i.f,u=0;u<s.length;u++){var d=s[u];r(t,d)||n&&r(n,d)||l(t,d,c(e,d))}}},8880:(t,e,n)=>{var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,n)=>{var r=n(614),o=n(3070),i=n(6339),a=n(3072);t.exports=function(t,e,n,s){var l=(s=s||{}).enumerable,c=void 0!==s.name?s.name:e;if(r(n)&&i(n,c,s),s.global)l?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},3072:(t,e,n)=>{var r=n(7854),o=Object.defineProperty;t.exports=function(e,n){try{o(r,e,{value:n,configurable:!0,writable:!0})}catch(t){r[e]=n}return n}},9781:(t,e,n)=>{n=n(7293),t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all;t.exports={all:e,IS_HTMLDDA:void 0===e&&void 0!==e}},317:(t,e,n)=>{var r=n(7854),o=(n=n(111),r.document),i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(9007199254740991<t)throw e("Maximum allowed index exceeded");return t}},3678:t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:(t,e,n)=>{n=n(5005),t.exports=n("navigator","userAgent")||""},7392:(t,e,n)=>{var r,o,i=n(7854),a=(n=n(8113),i.process);i=i.Deno,a=a&&a.versions||i&&i.version,i=a&&a.v8;!(o=i?0<(r=i.split("."))[0]&&r[0]<4?1:+(r[0]+r[1]):o)&&n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(t,e,n)=>{n=n(1702);var r=Error,o=n("".replace),i=(n=String(r("zxcasd").stack),/\n\s*at [^:]*:[^\n]*/),a=i.test(n);t.exports=function(t,e){if(a&&"string"==typeof t&&!r.prepareStackTrace)for(;e--;)t=o(t,i,"");return t}},2109:(t,e,n)=>{var r=n(7854),o=n(1236).f,i=n(8880),a=n(8052),s=n(3072),l=n(9920),c=n(4705);t.exports=function(t,e){var n,u,d,p=t.target,m=t.global,f=t.stat,g=m?r:f?r[p]||s(p,{}):(r[p]||{}).prototype;if(g)for(n in e){if(u=e[n],d=t.dontCallGetSet?(d=o(g,n))&&d.value:g[n],!c(m?n:p+(f?".":"#")+n,t.forced)&&void 0!==d){if(typeof u==typeof d)continue;l(u,d)}(t.sham||d&&d.sham)&&i(u,"sham",!0),a(g,n,u,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},4374:(t,e,n)=>{n=n(7293),t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,n)=>{n=n(4374);var r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},6530:(t,e,n)=>{var r=n(9781),o=(n=n(2597),Function.prototype),i=r&&Object.getOwnPropertyDescriptor,a=(n=n(o,"name"),n&&"something"===function(){}.name);r=n&&(!r||i(o,"name").configurable);t.exports={EXISTS:n,PROPER:a,CONFIGURABLE:r}},1702:(t,e,n)=>{n=n(4374);var r=Function.prototype,o=r.call;r=n&&r.bind.bind(o,o);t.exports=n?r:function(t){return function(){return o.apply(t,arguments)}}},5005:(t,e,n)=>{var r=n(7854),o=n(614);t.exports=function(t,e){return arguments.length<2?(n=r[t],o(n)?n:void 0):r[t]&&r[t][e];var n}},8173:(t,e,n)=>{var r=n(9662),o=n(8554);t.exports=function(t,e){return t=t[e],o(t)?void 0:r(t)}},7854:(t,e,n)=>{function r(t){return t&&t.Math==Math&&t}t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(t,e,n)=>{var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:t=>{t.exports={}},4664:(t,e,n)=>{var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var r=n(1702),o=n(7293),i=n(4326),a=Object,s=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s(t,""):a(t)}:a},9587:(t,e,n)=>{var r=n(614),o=n(111),i=n(7674);t.exports=function(t,e,n){return i&&r(e=e.constructor)&&e!==n&&o(e=e.prototype)&&e!==n.prototype&&i(t,e),t}},2788:(t,e,n)=>{var r=n(1702),o=n(614),i=(n=n(5465),r(Function.toString));o(n.inspectSource)||(n.inspectSource=function(t){return i(t)}),t.exports=n.inspectSource},9909:(t,e,n)=>{var r,o,i,a,s=n(4811),l=n(7854),c=n(111),u=n(8880),d=n(2597),p=n(5465),m=n(6200),f=(n=n(3501),"Object already initialized"),g=l.TypeError,h=(l=l.WeakMap,s||p.state?((i=p.state||(p.state=new l)).get=i.get,i.has=i.has,i.set=i.set,r=function(t,e){if(i.has(t))throw g(f);return e.facade=t,i.set(t,e),e},o=function(t){return i.get(t)||{}},function(t){return i.has(t)}):(n[a=m("state")]=!0,r=function(t,e){if(d(t,a))throw g(f);return e.facade=t,u(t,a,e),e},o=function(t){return d(t,a)?t[a]:{}},function(t){return d(t,a)}));t.exports={set:r,get:o,has:h,enforce:function(t){return h(t)?o(t):r(t,{})},getterFor:function(t){return function(e){if(c(e)&&(e=o(e)).type===t)return e;throw g("Incompatible receiver, "+t+" required")}}}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},614:(t,e,n)=>{n=n(4154);var r=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},4705:(t,e,n)=>{function r(t,e){return(t=l[s(t)])==u||t!=c&&(i(e)?o(e):!!e)}var o=n(7293),i=n(614),a=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(a,".").toLowerCase()},l=r.data={},c=r.NATIVE="N",u=r.POLYFILL="P";t.exports=r},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,n)=>{var r=n(614),o=(n=n(4154),n.all);t.exports=n.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:t=>{t.exports=!1},2190:(t,e,n)=>{var r=n(5005),o=n(614),i=n(7976),a=(n=n(3307),Object);t.exports=n?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,a(t))}},6244:(t,e,n)=>{var r=n(7466);t.exports=function(t){return r(t.length)}},6339:(t,e,n)=>{var r=n(7293),o=n(614),i=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,l=n(2788),c=(n=n(9909),n.enforce),u=n.get,d=Object.defineProperty,p=a&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),m=String(String).split("String");n=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!i(t,"name")||s&&t.name!==e)&&(a?d(t,"name",{value:e,configurable:!0}):t.name=e),p&&n&&i(n,"arity")&&t.length!==n.arity&&d(t,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?a&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}return n=c(t),i(n,"source")||(n.source=m.join("string"==typeof e?e:"")),t};Function.prototype.toString=n((function(){return o(this)&&u(this).source||l(this)}),"toString")},4758:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){return t=+t,(0<t?n:e)(t)}},6277:(t,e,n)=>{var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},3070:(t,e,n)=>{var r=n(9781),o=n(4664),i=n(3353),a=n(9670),s=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",m="writable";e.f=r?i?function(t,e,n){var r;return a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&m in n&&!n[m]&&(r=u(t,e))&&r[m]&&(t[e]=n.value,n={configurable:(p in n?n:r)[p],enumerable:(d in n?n:r)[d],writable:!1}),c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),o=n(6916),i=n(5296),a=n(9114),s=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=s(t),e=l(e),u)try{return d(t,e)}catch(t){}if(c(t,e))return a(!o(i.f,t,e),t[e])}},8006:(t,e,n)=>{var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,n)=>{n=n(1702),t.exports=n({}.isPrototypeOf)},6324:(t,e,n)=>{var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),l=r([].push);t.exports=function(t,e){var n,r=i(t),c=0,u=[];for(n in r)!o(s,n)&&o(r,n)&&l(u,n);for(;e.length>c;)!o(r,n=e[c++])||~a(u,n)||l(u,n);return u}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){return t=r(this,t),!!t&&t.enumerable}:n},7674:(t,e,n)=>{var r=n(1702),o=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2140:(t,e,n)=>{var r=n(6916),o=n(614),i=n(111),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&o(n=t.toString)&&!i(s=r(n,t)))return s;if(o(n=t.valueOf)&&!i(s=r(n,t)))return s;if("string"!==e&&o(n=t.toString)&&!i(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},3887:(t,e,n)=>{var r=n(5005),o=n(1702),i=n(8006),a=n(5181),s=n(9670),l=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=a.f;return n?l(e,n(t)):e}},4488:(t,e,n)=>{var r=n(8554),o=TypeError;t.exports=function(t){if(r(t))throw o("Can't call method on "+t);return t}},6200:(t,e,n)=>{var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,n)=>{var r=n(7854),o=(n=n(3072),"__core-js_shared__");r=r[o]||n(o,{});t.exports=r},2309:(t,e,n)=>{var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,n)=>{var r=n(7392);n=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:(t,e,n)=>{var r=n(9303),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},5656:(t,e,n)=>{var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9303:(t,e,n)=>{var r=n(4758);t.exports=function(t){return t=+t,t!=t||0==t?0:r(t)}},7466:(t,e,n)=>{var r=n(9303),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488),o=Object;t.exports=function(t){return o(r(t))}},7593:(t,e,n)=>{var r=n(6916),o=n(111),i=n(2190),a=n(8173),s=n(2140),l=(n=n(5112),TypeError),c=n("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n=a(t,c);if(n){if(n=r(n,t,e=void 0===e?"default":e),!o(n)||i(n))return n;throw l("Can't convert object to primitive value")}return s(t,e=void 0===e?"number":e)}},4948:(t,e,n)=>{var r=n(7593),o=n(2190);t.exports=function(t){return t=r(t,"string"),o(t)?t:t+""}},1694:(t,e,n)=>{var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},1340:(t,e,n)=>{var r=n(648),o=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,n)=>{n=n(1702);var r=0,o=Math.random(),i=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++r+o,36)}},3307:(t,e,n)=>{n=n(6293),t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,n)=>{var r=n(9781);n=n(7293);t.exports=r&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(t,e,n)=>{var r=n(7854);n=n(614),r=r.WeakMap;t.exports=n(r)&&/native code/.test(String(r))},5112:(t,e,n)=>{var r=n(7854),o=n(2309),i=n(2597),a=n(9711),s=n(6293),l=n(3307),c=o("wks"),u=r.Symbol,d=u&&u.for,p=l?u:u&&u.withoutSetter||a;t.exports=function(t){var e;return i(c,t)&&(s||"string"==typeof c[t])||(e="Symbol."+t,s&&i(u,t)?c[t]=u[t]:c[t]=(l&&d?d:p)(e)),c[t]}},7658:(t,e,n)=>{"use strict";var r=n(2109),o=n(7908),i=n(6244),a=n(3658),s=n(7207),l=(n=n(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}());r({target:"Array",proto:!0,arity:1,forced:n||l},{push:function(t){var e=o(this),n=i(e),r=arguments.length;s(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return a(e,n),n}})},2801:(t,e,n)=>{"use strict";function r(){d(this,w);var t=m((e=arguments.length)<1?void 0:arguments[0]),e=m(e<2?void 0:arguments[1],"Error");e=new b(t,e);return(t=v(t)).name=y,c(e,"stack",l(1,g(t.stack,1))),p(e,this,r),e}var o,i=n(2109),a=n(7854),s=n(5005),l=n(9114),c=n(3070).f,u=n(2597),d=n(5787),p=n(9587),m=n(6277),f=n(3678),g=n(1060),h=n(9781),y=(n=n(1913),"DOMException"),v=s("Error"),b=s(y),w=r.prototype=b.prototype,_="stack"in v(y),x="stack"in new b(1,2),E=(h=b&&h&&Object.getOwnPropertyDescriptor(a,y),a=!(!h||h.writable&&h.configurable),h=_&&!a&&!x,i({global:!0,constructor:!0,forced:n||h},{DOMException:h?r:b}),s(y));_=E.prototype;if(_.constructor!==E)for(var S in n||c(_,"constructor",l(1,E)),f)!u(f,S)||u(E,o=(S=f[S]).s)||c(E,o,l(6,S.c))}},e={};function n(r){var o=e[r];return void 0!==o||(o=e[r]={exports:{}},t[r](o,o.exports,n)),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();{let a;n(2801),n(7658),void 0!==window.browser&&(a=window.browser);const s=a=void 0!==window.chrome?window.chrome:a;{try{{var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;let d=window.location.host,p=document.createElement("script"),m=(p.type="text/javascript",p.id="stay_inject_parse_video_js_"+d,`\n\nconst handleInjectParseVideoJS = ${o}\n\nhandleInjectParseVideoJS(false);`);if(p.appendChild(document.createTextNode(m)),document.body)document.body.appendChild(p);else{let f=new r(((t,e)=>{document.body&&(document.body.appendChild(p),f.disconnect())}));f.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}document.addEventListener("securitypolicyviolation",(t=>{o(!0)}))}catch(i){}function o(t){let e=!1,n=!1,r={},o="",i="",a="",l=window.location.href,c=window.location.host,u={},d="",p="",m="",f=[],g={},h=new Set;const y=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;let v,b=[];const w={compare:function(t){return(e,n)=>e[t]-n[t]},isMobileOrIpad:function(){const t=navigator.userAgent;return!!["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"].filter((e=>t.includes(e))).length},isMobile:function(){const t=navigator.userAgent;return!!["Android","iPhone","SymbianOS","Windows Phone","iPod"].filter((e=>t.includes(e))).length},queryURLParams:function(t,e){return e=new RegExp("[?&#]+"+e+"=([^?&#]+)").exec(t),e&&e[1]||""},queryParams:function(t,e){return t?this.queryURLParams("https;//stap.app?"+t,e):""},matchUrlInString:function(t){var e=new RegExp("(https?|http)?(:)?//[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]","g");t=t.match(e);return t&&t.length?t[0]:""},isURL:function(t){return!!t&&/^http[s]?:\/\/.*/.test(t)},completionSourceUrl:function(t){return t?(/^(f|ht)tps?:\/\//i.test(t)||(/^\/\//i.test(t)?t=window.location.protocol+t:/^\//i.test(t)&&(t=window.location.origin+t)),t):""},checkCharLengthAndSubStr:function(t,e){return t?(e=e||80,t.replace(/[^x00-xff]/g,"01").length<=e?t:t.substr(0,e)):""},isChinese(t){return!!t&&!!/.*[u4e00-u9fa5]+.*$/.test(t)},urlEncodeChinese(t){var e;return t&&(e=new RegExp("[\\u4E00-\\u9FFF]","g"),t.replace(e,(function(t){return window.encodeURI(t)})))},getUrlPathName:function(t){let e="",n=(e=(this.isURL(t)?new URL(t):new URL(l)).pathname).split("/");return(n=n.filter((t=>{if(t&&""!=t)return t}))).pop()},generateUuid:function(t,e){t=t||32;var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");let o,i=[];if(e=e||r.length,t)for(o=0;o<t;o++)i[o]=r[0|Math.random()*e];else for(i[8]=i[13]=i[18]=i[23]="_",i[14]="4",o=0;o<36;o++)i[o]||(n=0|16*Math.random(),i[o]=r[19==o?3&n|8:n]);return i.join("")},isBase64(t){if(!t)return!1;if(/^data:.*\w+;base64,/.test(t))return!0;if(""===t||""===t.trim())return!1;try{return window.btoa(window.atob(t))==t}catch(t){return!1}},isDark(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},parseToDOM(t){var e=document.createElement("template");return"string"==typeof t?(e.innerHTML=t,e.content):t},getHostname(t){if(!t)return"";try{return new URL(t).hostname.toLowerCase()}catch($){return t.split("/")[0].toLowerCase()}},div(t,e){let n,r,o=0,i=0;try{o=t.toString().split(".")[1].length}catch(t){o=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return n=Number(t.toString().replace(".","")),r=Number(e.toString().replace(".","")),this.mul(n/r,Math.pow(10,i-o))},sub(t,e){let n,r,o;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}return o=Math.pow(10,Math.max(n,r)),(this.mul(t,o)-this.mul(e,o))/o},mul(t,e){let n=0,r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},add(t,e){let n,r,o;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}return o=Math.pow(10,Math.max(n,r)),(this.mul(t,o)+this.mul(e,o))/o},hexMD5(t){function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,n,r,o,i,a){return e((n=e(e(n,t),e(o,a)))<<i|n>>>32-i,r)}function r(t,e,r,o,i,a,s){return n(e&r|~e&o,t,e,i,a,s)}function o(t,e,r,o,i,a,s){return n(e&o|r&~o,t,e,i,a,s)}function i(t,e,r,o,i,a,s){return n(e^r^o,t,e,i,a,s)}function a(t,e,r,o,i,a,s){return n(r^(e|~o),t,e,i,a,s)}{var s=function(t){let n=1732584193,s=-271733879,l=-1732584194,c=271733878;for(let f=0;f<t.length;f+=16){var u=n,d=s,p=l,m=c;n=r(n,s,l,c,t[f+0],7,-680876936),c=r(c,n,s,l,t[f+1],12,-389564586),l=r(l,c,n,s,t[f+2],17,606105819),s=r(s,l,c,n,t[f+3],22,-1044525330),n=r(n,s,l,c,t[f+4],7,-176418897),c=r(c,n,s,l,t[f+5],12,1200080426),l=r(l,c,n,s,t[f+6],17,-1473231341),s=r(s,l,c,n,t[f+7],22,-45705983),n=r(n,s,l,c,t[f+8],7,1770035416),c=r(c,n,s,l,t[f+9],12,-1958414417),l=r(l,c,n,s,t[f+10],17,-42063),s=r(s,l,c,n,t[f+11],22,-1990404162),n=r(n,s,l,c,t[f+12],7,1804603682),c=r(c,n,s,l,t[f+13],12,-40341101),l=r(l,c,n,s,t[f+14],17,-1502002290),s=r(s,l,c,n,t[f+15],22,1236535329),n=o(n,s,l,c,t[f+1],5,-165796510),c=o(c,n,s,l,t[f+6],9,-1069501632),l=o(l,c,n,s,t[f+11],14,643717713),s=o(s,l,c,n,t[f+0],20,-373897302),n=o(n,s,l,c,t[f+5],5,-701558691),c=o(c,n,s,l,t[f+10],9,38016083),l=o(l,c,n,s,t[f+15],14,-660478335),s=o(s,l,c,n,t[f+4],20,-405537848),n=o(n,s,l,c,t[f+9],5,568446438),c=o(c,n,s,l,t[f+14],9,-1019803690),l=o(l,c,n,s,t[f+3],14,-187363961),s=o(s,l,c,n,t[f+8],20,1163531501),n=o(n,s,l,c,t[f+13],5,-1444681467),c=o(c,n,s,l,t[f+2],9,-51403784),l=o(l,c,n,s,t[f+7],14,1735328473),s=o(s,l,c,n,t[f+12],20,-1926607734),n=i(n,s,l,c,t[f+5],4,-378558),c=i(c,n,s,l,t[f+8],11,-2022574463),l=i(l,c,n,s,t[f+11],16,1839030562),s=i(s,l,c,n,t[f+14],23,-35309556),n=i(n,s,l,c,t[f+1],4,-1530992060),c=i(c,n,s,l,t[f+4],11,1272893353),l=i(l,c,n,s,t[f+7],16,-155497632),s=i(s,l,c,n,t[f+10],23,-1094730640),n=i(n,s,l,c,t[f+13],4,681279174),c=i(c,n,s,l,t[f+0],11,-358537222),l=i(l,c,n,s,t[f+3],16,-722521979),s=i(s,l,c,n,t[f+6],23,76029189),n=i(n,s,l,c,t[f+9],4,-640364487),c=i(c,n,s,l,t[f+12],11,-421815835),l=i(l,c,n,s,t[f+15],16,530742520),s=i(s,l,c,n,t[f+2],23,-995338651),n=a(n,s,l,c,t[f+0],6,-198630844),c=a(c,n,s,l,t[f+7],10,1126891415),l=a(l,c,n,s,t[f+14],15,-1416354905),s=a(s,l,c,n,t[f+5],21,-57434055),n=a(n,s,l,c,t[f+12],6,1700485571),c=a(c,n,s,l,t[f+3],10,-1894986606),l=a(l,c,n,s,t[f+10],15,-1051523),s=a(s,l,c,n,t[f+1],21,-2054922799),n=a(n,s,l,c,t[f+8],6,1873313359),c=a(c,n,s,l,t[f+15],10,-30611744),l=a(l,c,n,s,t[f+6],15,-1560198380),s=a(s,l,c,n,t[f+13],21,1309151649),n=a(n,s,l,c,t[f+4],6,-145523070),c=a(c,n,s,l,t[f+11],10,-1120210379),l=a(l,c,n,s,t[f+2],15,718787259),s=a(s,l,c,n,t[f+9],21,-343485551),n=e(n,u),s=e(s,d),l=e(l,p),c=e(c,m)}return[n,s,l,c]}(function(t){var e=[];for(let n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}(t)),l="0123456789abcdef";let n="";for(let t=0;t<4*s.length;t++)n+=l.charAt(s[t>>2]>>t%4*8+4&15)+l.charAt(s[t>>2]>>t%4*8&15);return n}}};class _{constructor(t,e){this.dom=t,this.timer=0,this.init(e)}init(t){this.touchstart(t),this.touchend(),this.touchmove(),this.bindLongPressEventFlag()}bindLongPressEventFlag(){this.dom.setAttribute("stay-long-press","yes")}touchstart(t){const e=this;e.dom.removeEventListener("touchstart",(function(n){e.handleLongPress(n,t)})),e.dom.addEventListener("touchstart",(function(n){return e.handleTargetTouchend(n.target),e.timer=setTimeout(((t,n)=>{e.handleLongPress(t,n)}),600,n,t),!1}),!1)}handleTargetTouchend(t){const e=this;t&&t.addEventListener("touchend",(n=>{e.handleTouchend(n,t)}))}handleLongPress(t,e){if(t.preventDefault(),t.stopPropagation(),!x(this.dom)){t=t.changedTouches[0];try{t.target.addEventListener("contextmenu",(function(t){t.preventDefault()}))}catch(t){}"function"==typeof e&&(e(),this.timer=0)}}touchend(){const t=this;t.dom.removeEventListener("touchend",(function(e){t.handleTouchend(e,null)})),t.dom.addEventListener("touchend",(function(e){return t.handleTouchend(e,null),!1}))}handleTouchend(t,e){const n=this;if(!x(this.dom)&&(clearTimeout(this.timer),0!=this.timer))try{e&&e.removeEventListener("touchend",(t=>{clearTimeout(n.timer)}))}catch(t){}}touchmove(){const t=this;function e(){x(t.dom)||(clearTimeout(t.timer),t.timer=0)}t.dom.removeEventListener("touchmove",(function(t){e()})),t.dom.addEventListener("touchmove",(function(t){return e(),!1}))}}function x(t){return!t||(t=window.getComputedStyle(t))&&("none"===t.display||"hidden"===t.visibility)}class E{constructor(t,e){this.dom=t,this.stayLongPressTimer=0,this.distance=10,this.init(e)}getDomPageStartX(){return this.dom.getBoundingClientRect().left}getDomPageStartY(){return(document.documentElement.scrollTop||window.pageYOffset)+this.dom.getBoundingClientRect().top}getDomPageEndX(){return this.getDomPageStartX()+this.dom.clientWidth}getDomPageEndY(){return this.getDomPageStartY()+this.dom.clientHeight}init(t){this.touchstart(t),this.touchend(),this.touchmove(),this.bindLongPressEventFlag()}bindLongPressEventFlag(){this.dom.setAttribute("stay-long-press","yes")}touchstart(t){const e=this;document.body.removeEventListener("touchstart",(function(n){return e.handleTargetEvent(n,t),!1})),document.body.addEventListener("touchstart",(function(n){return e.handleTargetTouchend(n.target),e.handleTargetEvent(n,t),!1}),!1)}handleTargetTouchend(t){const e=this;t&&t.addEventListener("touchend",(n=>{e.touchEndCallback(n,t)}))}handleTargetEvent(t,e){t.stopPropagation(),t.preventDefault();const n=this;t=t.changedTouches[0];var r=t.pageX,o=t.pageY;!x(n.dom)&&Math.abs(t.pageX-r)<=n.distance&&r>=n.getDomPageStartX()&&r<=n.getDomPageEndX()&&o>=n.getDomPageStartY()&&o<=n.getDomPageEndY()&&(this.stayLongPressTimer=window.setTimeout(((t,e)=>{n.stayLongPressTimer=0;try{var r=t.target.classList;r.contains("__stay-unselect")||r.add("__stay-unselect"),r.contains("__stay-touch-action")||r.add("__stay-touch-action"),"function"==typeof e&&e(),t.target.addEventListener("contextmenu",(function(t){t.preventDefault()}))}catch(t){}}),600,t,e))}touchend(){const t=this;document.body.removeEventListener("touchend",(function(e){t.touchEndCallback(e,null)})),document.body.addEventListener("touchend",(function(e){return t.touchEndCallback(e,null),!1}))}touchEndCallback(t,e){const n=this;if(!x(this.dom)&&(clearTimeout(this.stayLongPressTimer),0!=this.stayLongPressTimer))try{e&&e.removeEventListener("touchend",(t=>{n.touchEndCallback(t,null)}))}catch(t){}}touchmove(){const t=this;function e(){x(t.dom)||(window.clearTimeout(t.stayLongPressTimer),t.stayLongPressTimer=0)}document.body.removeEventListener("touchmove",(function(t){t.preventDefault(),t.stopPropagation(),e()})),document.body.addEventListener("touchmove",(function(t){return t.preventDefault(),t.stopPropagation(),e(),!1}))}}function S(t){new y((function(t){try{t.forEach((function(t){c=window.location.host,v=document.querySelectorAll("video");var e=t.target.querySelectorAll("video");("VIDEO"===t.target.nodeName||e&&e.length)&&v&&v.length&&A(v)}))}catch(t){}})).observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0});let e=(v=document.querySelectorAll("video"))&&v.length;if(e||(v=document.querySelectorAll(".post-content shreddit-player"),e=v&&v.length),e)A(v);else if(A(),t){let t=!1;for(let e=1;e<10;e++){let n;if(function(e){n=setTimeout((()=>{v=document.querySelectorAll("video"),(t=v&&v.length)&&(A(v),b.forEach((t=>{clearTimeout(t)})))}),200*e)}(e),t)break;b.push(n)}}}function A(t){if(t&&t.length){var e=t.length;let n=0;Array.from(t).forEach((t=>{if(t&&t instanceof HTMLElement){let i=t.getAttribute("stay-sniffing");i||(i=w.generateUuid(),t.setAttribute("stay-sniffing",i));var e,o=t;let a=t.getAttribute("src");a||(e=t.querySelector("source"))&&(t=e,a=e.getAttribute("src")),a&&function(t,e,n){let o={},i=t.getAttribute("poster"),a=t.getAttribute("title"),s=t.getAttribute("src"),u=[],d=(l=window.location.href,e);if(s=w.completionSourceUrl(s),i||(p=document.querySelector("source[type='image/webp'] img"),i=p?p.getAttribute("src"):"",a=a||(p?p.getAttribute("alt"):"")),-1<c.indexOf("youtube.com")){let e=document.querySelector("#player-control-overlay .player-controls-background-container .player-controls-background");(e=(e=e||document.querySelector("#player-control-overlay"))||document.querySelector(".carousel-wrapper .video-wrapper .reel-player-overlay-main-content"))&&(d=e),o=function(t){var e=window.ytplayer,n=w.queryURLParams(l,"v");let o={},i=(o.poster=t.getAttribute("poster")||"",o.downloadUrl=t.getAttribute("src"),t.getAttribute("title"));if(o.title=i,t=e?e.bootstrapPlayerResponse:{},t&&t.videoDetails&&t.streamingData&&(!n||n===t.videoDetails.videoId)){var a=t.videoDetails,s=a.title||"",c=(a=(o.title=s,a.thumbnail),a=(a&&(a=a.thumbnails)&&a.length&&(o.poster=a.pop().url),t.microformat&&t.microformat.playerMicroformatRenderer&&t.microformat.playerMicroformatRenderer.thumbnail&&t.microformat.playerMicroformatRenderer.thumbnail.thumbnails.length&&(o.poster=t.microformat.playerMicroformatRenderer.thumbnail.thumbnails[0].url),t.streamingData),a.adaptiveFormats);if(a.formats,i=i||"",c&&c.length&&i.replace(/\s+/g,"")===s.replace(/\s+/g,"")){let n=[],i=new Set;!function(e){try{if(e){let t="";var n=(m=e).split("/");(t=e.startsWith("/")?n[3]:n[2])&&(r.randomPathUuid=t)}}catch(t){}}(e.bootstrapWebPlayerContextConfig?e.bootstrapWebPlayerContextConfig.jsUrl:""),a=c.filter((t=>{if(-1<t.mimeType.indexOf("audio/mp4"))return t}));let s=N(a),l=(c.forEach((t=>{var e=t.mimeType;let r=t.qualityLabel;if(r=r?r.replace(/p[\d]*$/,"P"):"",-1<e.indexOf("video/mp4")&&t.url&&!i.has(t.quality)){i.add(t.quality);let a="";e.match(/.*codecs=.*webm.*/g)||(a=s),w.isURL(a)||(o.shouldDecode=!0),n.push({downloadUrl:t.url,qualityLabel:r,quality:t.quality,audioUrl:a})}if(-1<e.indexOf("video/mp4")&&t.signatureCipher&&!i.has(t.quality)){var a=P(t.signatureCipher);let l="";((l=e.match(/.*codecs=.*mp4.*/g)?l:s)&&!w.isURL(l)||a&&!w.isURL(a))&&(o.shouldDecode=!0),i.add(t.quality),n.push({downloadUrl:a,qualityLabel:r,quality:t.quality,protect:!0,audioUrl:l})}})),N(c.filter((t=>{if(-1<t.mimeType.indexOf("audio/webm"))return t}))));c.forEach((t=>{var e=t.mimeType;let r=t.qualityLabel;if(r=r?r.replace(/p[\d]*$/,"P"):"",-1<e.indexOf("video/webm")&&t.url&&!i.has(t.quality)){i.add(t.quality);let a="";(a=e.match(/.*codecs=.*webm.*/g)?a:l)&&!w.isURL(a)&&(o.shouldDecode=!0),n.push({downloadUrl:t.url,qualityLabel:r,quality:t.quality,audioUrl:a})}if(-1<e.indexOf("video/webm")&&t.signatureCipher&&!i.has(t.quality)){var a=P(t.signatureCipher);let s="";((s=e.match(/.*codecs=.*webm.*/g)?s:l)&&!w.isURL(s)||a&&!w.isURL(a))&&(o.shouldDecode=!0),i.add(t.quality),n.push({downloadUrl:a,qualityLabel:r,quality:t.quality,protect:!0,audioUrl:s})}})),n&&n.length&&(o.qualityList=n)}else o.title=i||V();o.downloadUrl=z(),o.poster||(o.poster=W())}else(o={}).title=i||V(),o.downloadUrl=z();let u=o.poster;return u=u||W(),n!=t.videoDetails.videoId&&(u=`https://i.ytimg.com/vi/${n}/hqdefault.jpg`),u=u||`https://i.ytimg.com/vi/${n}/hqdefault.jpg`,o.poster=u,function(t){return t&&-1<t.indexOf("pltype=adhost")?1:(t=document.querySelector("#container .video-ads"),!(!t||x(t)))}(o.downloadUrl)&&(o.type="ad"),o}(t)}else{var p,g;-1<c.indexOf("baidu.com")?o=function(t){let e={};if(e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),"activity.baidu.com"===c){var n=window.PAGE_DATA;if(n&&n.pageData&&n.pageData.remote&&n.pageData.remote.mainVideoList&&n.pageData.remote.mainVideoList.length)return r=n.pageData.remote.mainVideoList[0],n=n.pageData.remote.moreVideoList,e.title=r.title,e.poster=r.poster,e.downloadUrl=r.videoUrl,n&&n.length&&n.forEach((t=>{h.size&&h.has(t.vid)||w.isURL(t.videoUrl)&&(h.add(t.vid),f.push({title:t.title,poster:t.poster,downloadUrl:t.videoUrl,hostUrl:l,videoUuid:t.vid}))})),e;e.title=F();const t=document.querySelector(".stickyBlock .curVideoPlay video");t&&(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"))}else if("mbd.baidu.com"===c){var r=window.jsonData;if(r&&r.curVideoMeta&&(n=r.curVideoMeta,(e=M(n))&&Object.keys(e).length))return e;e.title=F(),e.poster=j()}else if("haokan.baidu.com"===c){var o=window.__PRELOADED_STATE__,i=w.queryURLParams(l,"vid"),a=t.getAttribute("src");if(a&&i&&-1<a.indexOf(i)){if(o&&o.curVideoMeta&&(a=o.curVideoMeta,(e=M(a))&&Object.keys(e).length))return e;e.title=F(),e.poster=j()}else e.title=t.parentElement.parentElement.querySelector("h3.land-recommend-bottom-title")?t.parentElement.parentElement.querySelector("h3.land-recommend-bottom-title").textContent:"",e.poster=t.parentElement&&t.parentElement.querySelector("img.video-img")?t.parentElement.querySelector("img.video-img").getAttribute("src"):""}else"pan.baidu.com"===c&&(e.title=F()),"m.baidu.com"===c&&((i=document.querySelector(".sfc-video-page-info .sfc-video-page-info-title h3.title-waterfallB"))&&(e.title=i.textContent),o=document.querySelector(".video-poster .c-img-wrapper img.c-img-img"))&&(e.poster=o.getAttribute("src"));return e}(t):-1<c.indexOf("bilibili.com")?o=function(t){let e={},n=(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),document.querySelector(".main-container .ep-info-pre .ep-info-title"));if(!n&&!(n=document.querySelector(".video .share-video-info .title-wrapper .title .title-name span"))){let t=setTimeout((function(){return(n=document.querySelector(".video .share-video-info .title-wrapper .title .title-name span"))&&(e.title=n.textContent),clearTimeout(t),t=0,e}),200)}return n&&(e.title=n.textContent),t=document.querySelector("div.m-video-part-new > ul.list > li.part-item.on > span"),t&&(t=t.textContent,e.title=t+e.title),e}(t):-1<c.indexOf("mobile.twitter.com")?((p=document.querySelector(".r-eqz5dr .r-1pi2tsx .r-1pi2tsx .r-1udh08x .r-1p0dtai div.css-1dbjc4n.r-6koalj.r-eqz5dr.r-1pi2tsx.r-13qz1uu"))&&(d=p),o=function(t){let e={},n=(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.childNodes[1]);return(n=n&&n.querySelector(".css-1dbjc4n .r-92ivih.r-1t01tom .r-1t982j2.r-1j3t67a .css-1dbjc4n.r-1kw4oii a[data-testid='tweetText'] span"))&&(e.title=w.checkCharLengthAndSubStr(n.textContent)),e}(t)):-1<c.indexOf("m.weibo.cn")?o=function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),l.match(/^.*\/detail\/.*/g)&&(e.title=w.checkCharLengthAndSubStr(document.querySelector(".weibo-main .weibo-text").textContent)),e}(t):-1<c.indexOf("iesdouyin.com")?o=function(t){var e={};e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector(".video-container img.poster");return t&&(e.poster=t.getAttribute("src")),t=document.querySelector(".desc .multi-line .multi-line_text"),t&&(e.title=t.textContent),e}(t):-1<c.indexOf("douyin.com")?(g=window.location.pathname,o=(-1<g.indexOf("/video")?function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector("div[data-e2e=video-detail] div[data-e2e=detail-video-info] div h2"),t&&(e.title=t.textContent),e}:function(t){var e,n={};n.poster=t.getAttribute("poster"),n.downloadUrl=t.getAttribute("src"),t=t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;return t&&((e=t.querySelector(".imgBackground img"))&&(n.poster=e.getAttribute("src")),e=t.querySelector(".video-info-detail .title span.e_h_fqNj"))&&(n.title=e.textContent),n})(t)):-1<c.indexOf("m.toutiao.com")?o=function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector(".video .xgplayer-placeholder .xgplayer-poster"),t&&(t=t.getAttribute("style"))&&(t=w.matchUrlInString(t),e.poster=t),t=document.querySelector(".video .video-header .video-title-wrapper .video-title"),t&&(e.title=t.textContent),e}(t):-1<c.indexOf("m.v.qq.com")?o=function(t){var e={};if(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector(".mod_play .player_container .txp_poster_img"),t&&(t=t.getAttribute("src"),t=w.completionSourceUrl(t),e.poster=t),t=document.querySelector(".mod_box .mod_bd .mod_video_info .video_title"),t){let n=t.textContent;n=n?n.trim():"",t=document.querySelector(".mod_box .mod_bd .mod_list_slider .slider_box .item.current span"),t&&(n=(n+=t.textContent)?n.trim():""),e.title=n}return e}(t):-1<c.indexOf("www.reddit.com")?o=function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector("shreddit-app shreddit-title"),t&&(e.title=t.getAttribute("title")),e}(t):-1<c.indexOf("pornhub.com")?((g=document.querySelector("#videoShow #videoPlayerPlaceholder .playerFlvContainer"))&&(d=g),o=function(t){var e={},n=(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement);return n&&n.classList.contains("playerWrapper")?((n=document.querySelector("#videoShow .categoryTags .headerWrap h1"))&&(n=n.textContent)&&(e.title=n.trim()),(n=document.querySelector("#videoPlayerPlaceholder img.videoElementPoster"))&&(e.poster=n.getAttribute("src")),I(e)):(n=t.parentNode.parentNode.parentNode.parentNode.parentNode,n&&"li"==n.tagName.toLowerCase()&&(t=n.querySelector(".videoWrapper .singleVideo a img.videoThumb"))&&(e.title=t.getAttribute("alt"),e.title&&(e.title="[Related videos] "+e.title),e.poster=t.getAttribute("src")),e)}(t)):-1<c.indexOf("facebook.com")?o=function(t){var e,n={};n.poster=t.getAttribute("poster"),n.downloadUrl=t.getAttribute("src"),n.title=t.getAttribute("title"),t=t.parentElement.parentElement.parentElement.parentElement.parentElement;return t&&t.classList.contains("displayed")&&"container"==t.getAttribute("data-type")&&((e=t.querySelector("div[data-type='video'] img.img"))&&(n.poster=e.getAttribute("src")),e=t.querySelector("div.displayed > div[data-type='container'] > div[data-type='container'] > div[data-type='container'] > div[data-type='text'] > div.native-text"))&&(n.title=e.textContent),n}(t):-1<c.indexOf("instagram.com")?o=function(t){let e={},n=(e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode);var r;return n&&n.classList.contains("_ab8w")&&n.classList.contains("_ab94")&&n.classList.contains("_ab99")&&n.classList.contains("_ab9h")&&n.classList.contains("_ab9m")&&n.classList.contains("_ab9p")&&n.classList.contains("_abcm")?((r=n.querySelector("._aatk .x1uhb9sk .x10l6tqk .x78zum5 img.x5yr21d"))&&(e.poster=r.getAttribute("src")),(r=n.querySelector("._ab9f div._ae1h._ae1i ._ae2s div._ae5q._akdn div div div"))&&r.textContent&&(e.title=r.textContent.replace("... more",""))):(n=t.parentNode.parentNode.parentNode.parentNode.parentNode)&&n.classList.contains("_a8b4")&&n.classList.contains("_acjh")&&(r=n.querySelector("div > div > div.x9f619.x1d8287x.xz4gly6  div.x6ikm8r.x10wlt62 span"))&&(e.title=r.textContent),e}(t):-1<c.indexOf("xiaohongshu.com")?o=function(t){var e={};if(e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t=document.querySelector(".video-container .video-banner .img-box"),t&&(t=t.getAttribute("style"),t=w.matchUrlInString(t))&&(e.poster=w.completionSourceUrl(t)),t=document.querySelector(".video-container .stage-bottom .author-desc-wrapper .author-desc"),t){let n=t.textContent;n&&(n=n.replace(/^展开/g,""),e.title=w.checkCharLengthAndSubStr(n))}return e}(t):-1<c.indexOf("jable.tv")?o=function(t){var e={};return e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t=document.querySelector(".video-info .info-header .header-left h4"),t&&(e.title=t.textContent),e}(t):-1<c.indexOf("hxaa79.com")?o=function(t){var e={};return e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t=document.querySelector(".play_main .play_main_1"),t&&(e.title=t.textContent),e}(t):-1<c.indexOf("555yy4.com")&&(o=function(t){let e={},n=(e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),window.parent.document.title);return n=n||window.parent.ep_title,n=n||window.parent.MAC.Title,e.title=n,e}(t))}return o.downloadUrl&&(s=o.downloadUrl),s=w.completionSourceUrl(s),i=i||o.poster,a=a||o.title,o.qualityList&&o.qualityList.length&&(u=o.qualityList),a=a||document.title,a=a||w.getUrlPathName(s),i=w.completionSourceUrl(i),o.title=o.type&&"ad"==o.type?'<span style="font-weight: 700;">Ad·</span>'+a:a,o.poster=i,o.downloadUrl=s,o.hostUrl=l,o.qualityList=u,o.videoUuid=n,s&&U(e,d,o),o}(t,o,i).downloadUrl||n++}else n++})),n==e&&k()}else k()}function U(t,r,o){var s=o.downloadUrl;w.isURL(s)||(o.downloadUrl=l),o.videoKey&&!o.videoUuid&&(o.videoUuid=o.videoKey),s=o.qualityList;o.shouldDecode&&(o.qualityList=[],g[o.videoUuid]=s);try{!async function(t,r,o){if(r&&w.isMobile()&&!e&&!n&&(a||(n=!0,a=await q(),n=!1),a)&&(!a||"off"!=a)&&(i||(e=!0,i=await T(),e=!1),"a"==i)){var s=r.getAttribute("stay-long-press");if(!s||"yes"!=s){if(document.querySelector("#__style_sinffer_unselect")||document.body.append(w.parseToDOM('<style id="__style_sinffer_unselect">\n          .__stay-unselect, video{\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            -webkit-touch-callout: none;\n          }\n          .__stay-touch-action{\n            touch-action: none!important;\n          }\n        </style>')),r.classList.add("__stay-unselect"),r.classList.add("__stay-touch-action"),s=o.hostUrl,-1<s.indexOf("youtube.com")){var l=document.querySelector("#player-control-overlay");l=(l&&(l.classList.contains("__stay-touch-action")||l.classList.add("__stay-touch-action"),l.classList.contains("__stay-unselect")||l.classList.add("__stay-unselect")),document.querySelector("#player-control-overlay .player-controls-background-container .player-controls-background"));l&&(l.classList.contains("__stay-touch-action")||l.classList.add("__stay-touch-action"),l.classList.contains("__stay-unselect")||l.classList.add("__stay-unselect")),new _(r,(()=>{C(t,r,o)}))}else if(!(-1<s.indexOf("mobile.twitter.com")))if(-1<s.indexOf("pornhub.com"))r&&(r.classList.contains("__stay-touch-action")||r.classList.add("__stay-touch-action"),r.classList.contains("__stay-unselect")||r.classList.add("__stay-unselect")),new _(r,(()=>{C(t,r,o)}));else if(-1<s.indexOf("muiplayer.js.org")){let e=document.querySelector("#mplayer-media-wrapper");(e=e||document.querySelector("#mplayer-cover"))&&new _(e,(()=>{C(t,e,o)}))}new E(r,(()=>{C(t,r,o)}))}}}(t,r,o)}catch(t){}h.size&&(h.has(o.videoUuid)||h.has(o.videoKey))?f.forEach((t=>(t.videoUuid!=o.videoUuid&&t.videoUuid!=o.videoKey||(t.downloadUrl=o.downloadUrl,t.poster=o.poster||"",t.title=o.title,t.hostUrl=o.hostUrl,t.qualityList=o.qualityList&&o.qualityList.length?o.qualityList:[],t.type=o.type||""),t))):(o.videoUuid&&h.add(o.videoUuid),f.push(o)),D()}function O(){return u&&Object.keys(u).length&&p&&u.decodeFunStr&&p==u.pathUuid}function L(){Object.keys(g).length&&O()&&(Object.keys(g).forEach(((t,e)=>{if(e.length){e.forEach((t=>(t.downloadUrl&&!w.isURL(t.downloadUrl)&&(t.downloadUrl=R(t.downloadUrl)),t.audioUrl&&!w.isURL(t.audioUrl)&&(t.audioUrl=R(t.audioUrl)),t)));let n=e.filter((t=>{if(t.downloadUrl)return t}));f.forEach((e=>{if(e.videoUuid==t)return e.qualityList=n,e})),delete g[t]}})),D())}function D(){var e=w.hexMD5(JSON.stringify(f));o&&o==e||(o=e,t?(e={from:"sniffer",operate:"VIDEO_INFO_PUSH",videoInfoList:f},s.runtime.sendMessage(e,(t=>{}))):window.postMessage({name:"VIDEO_INFO_CAPTURE",videoList:f}))}function T(){return new Promise(((e,n)=>{if(t)s.runtime.sendMessage({from:"sniffer",operate:"GET_STAY_AROUND"},(t=>{t.body&&"{}"!=JSON.stringify(t.body)&&e(t.body)}));else{const t=Math.random().toString(36).substring(2,9),n=r=>{r.data.pid===t&&"GET_STAY_AROUND_RESP"===r.data.name&&(r=r.data&&r.data.response?r.data.response.body:"b",e(r),window.removeEventListener("message",n))};window.postMessage({id:t,pid:t,name:"GET_STAY_AROUND"}),window.addEventListener("message",n)}}))}function q(){return new Promise(((e,n)=>{if(t)s.runtime.sendMessage({from:"popup",operate:"getLongPressStatus"},(t=>{t=t&&t.longPressStatus?t.longPressStatus:"on",e(t)}));else{const t=Math.random().toString(36).substring(2,9),n=r=>{r.data.pid===t&&"GET_LONG_PRESS_STATUS_RESP"===r.data.name&&(e(r.data.longPressStatusRes),window.removeEventListener("message",n))};window.postMessage({id:t,pid:t,name:"GET_LONG_PRESS_STATUS"}),window.addEventListener("message",n)}}))}function C(e,n,r){n.clientWidth;let o=n.clientHeight,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var a=window.innerWidth||document.documentElement.innerWidth||document.body.innerWidth;let l=n.getBoundingClientRect().top,c=n.getBoundingClientRect().left,u=("VIDEO"==n.tagName&&(l=n.parentNode.getBoundingClientRect().top,c=n.parentNode.getBoundingClientRect().left),c=10,a),d=w.div(w.mul(u,9),16),p=(o<w.div(i,2)&&(d=o),document.querySelector("#__stay_sinffer_modal"));(p=p||function(){let n=[{title:r.title,downloadUrl:r.downloadUrl,poster:r.poster,hostUrl:w.getHostname(r.hostUrl),uuid:""}],a="stay://x-callback-url/snifferVideo?list="+encodeURIComponent(JSON.stringify(n)),p="background-color: rgb(247,247,247);",m="rgb(54, 54, 57)",f="#E0E0E0",g="background-color: rgba(255, 255, 255, 1);",h="color:#000000;",y=t?s.runtime.getURL("img/popup-download-light.png"):"https://res.stayfork.app/scripts/8DF5C8391ED58046174D714911AD015E/icon.png",v="#F7B500",b="#000",_="https://res.stayfork.app/scripts/22BF8566F3522614F4F3A15EBC87378E/icon.png";w.isDark()&&(g="background-color: rgba(0, 0, 0, 1);",h="color:#DCDCDC;",p="background-color: rgb(54, 54, 57);",y=t?s.runtime.getURL("img/popup-download-dark.png"):"https://res.stayfork.app/scripts/CFFCD2186E164262E0E776A545327605/icon.png",m="rgb(247,247,247)",f="#37372F",b="rgb(247,247,247)",_="https://res.stayfork.app/scripts/102BDC80B489A31FCA2F4E3A3B7CCE74/icon.png");let x=1,E=`<div stay-download="${a}" class="_stay-quality-item ">${"ad"==r.type?"Download Ad":"Download"}</div>`,S=r.qualityList;if(S&&S.length){let t="";x=0,S.forEach((e=>{let o=e.downloadUrl,i=e.audioUrl;if(r.shouldDecode){if(!w.isURL(o)&&!(o=R(o)))return;if(i&&!w.isURL(i)&&!(i=R(i)))return}n=[{title:r.title,downloadUrl:o,poster:r.poster,hostUrl:w.getHostname(r.hostUrl),uuid:"",protect:e.protect||!1,audioUrl:i,qualityLabel:e.qualityLabel}],o="stay://x-callback-url/snifferVideo?list="+encodeURIComponent(JSON.stringify(n));let a=e.qualityLabel,s="";if(a)try{a=a.replace(/[^0-9]/g,""),780<Number(a)&&(s='<span class="__stay-hd">HD</span>')}catch(e){}t+=`<div stay-download="${o}" class="_stay-quality-item">${e.qualityLabel}${s}</div>`,x+=1})),E=t}let A=l,U=l;l<0?(U=0,i<=o&&(U=w.div(w.sub(i,d),2))):0==l?i<=o&&(U=w.div(w.sub(i,d),2)):(T=w.add(4,36),T=w.add(w.add(d,T),w.add(w.mul(x,38),36)),l>w.sub(i,T)&&(U=w.sub(i,T)));let O="",L=t?s.runtime.getURL("img/video-default.png"):"https://res.stayfork.app/scripts/BB8CD00276006365956C32A6556696AD/icon.png",D='<div class="__stay-poster-box" ><div class="__stay-default-poster"><img style="max-width:100%;max-height:100%;" src="'+L+'"/></div><span style="font-size:13px;padding-top: 20px; -webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;'+h+'">'+w.getHostname(r.hostUrl)+"</span></div>";r.poster&&(O="border-radius: 15px;",D=`<div class="__stay-video-poster" style="background:url('${r.poster}') 50% 50% no-repeat;background-size: cover;"></div>`),function(t,e,n){if(t&&"VIDEO"==t.tagName){t.setAttribute("autoplay","autoplay"),t.setAttribute("crossOrigin","anonymous");var r=document.createElement("canvas");e=(r.width=e,r.height=n,r.getContext("2d"));e.drawImage(t,0,0,r.width,r.height)}}(e,u,d);var T=`<style id="__style_sinffer_style">\n          .__stay-modal-box{\n            position: fixed; \n            z-index: 9999999; \n            width: 100%; \n            height: 100%; \n            text-align: center; \n            top: 0px;\n            -webkit-overflow-scrolling: touch;\n            margin: 0 auto;\n            transition: all 0.6s;\n            box-sizing: border-box;\n            visibility: hidden;\n          }\n          .__stay-show-modal{\n            background-color: rgba(0, 0, 0, 0.4);\n            -webkit-backdrop-filter: blur(8px); \n          }\n          .__stay-sinffer-content{\n            width:100%;\n            position: absolute;\n            left: 0;\n            -webkit-transform: translate3d(0, ${A}px, 0);\n            transform: translate3d(0, ${A}px, 0);\n            will-change: transform;\n            -webkit-transition: -webkit-transform .4s cubic-bezier(0,0,.25,1) 80ms;\n            transition: transform .4s cubic-bezier(0,0,.25,1) 80ms;\n            box-sizing: border-box;\n          }\n          .__stay-trans{\n            -webkit-transform: translate3d(0,${U}px,0);\n            transform: translate3d(0,${U}px,0);\n          }\n          .__stay-content{\n            width:100%;\n            position: relative;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            justify-items: center;\n            align-items: center;\n          }\n          ._stay-sinffer-popup{\n            width:230px;padding-top: 10px;box-sizing: border-box;border-radius:15px;\n            ${p}\n            position: relative;\n            margin: 16px auto 0 auto;\n            z-index:999999;\n            visibility: hidden;\n            animation: fadein .5s;\n          }\n          .__stay-sinffer-poster{\n            width: 100%;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            height: ${d}px;\n            padding: 0 ${c}px;\n            margin:0 auto;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            justify-items: center;\n            align-items: center;\n            box-sizing: border-box;\n            box-shadow: 0 0px 10px rgba(54,54,57,0.1);\n            transition: All 0.4s ease-in-out;\n            -webkit-transition: All 0.4s ease-in-out;\n            -moz-transition: All 0.4s ease-in-out;\n            -o-transition: All 0.4s ease-in-out;\n            animation-name: zoom;\n            animation-duration: 0.6s;\n          }\n          .__stay-video-poster{\n            // object-fit: contain;\n            // object-position: center;\n            width:100%;\n            height:100%;\n            background-position: center;\n            background-repeat: no-repeat;\n            border-radius: 15px;\n           \n          }\n          .__stay-poster-box{\n            width:100%;\n            height:100%;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            ${g}\n            border-radius: 10px;\n            box-shadow: 0 0px 10px rgba(54,54,57,0.1);\n          }\n          .__stay-default-poster{\n            width:80px;\n            height:60px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            justify-items: center;\n            align-items: center;\n            box-sizing: border-box;\n          }\n          ._stay-sinffer-title{\n            padding-left: 44px;\n            padding-right: 15px;\n            width: 100%;\n            height:36px;\n            line-height: 18px;\n            word-break:break-all;\n            word-wrap:break-word;\n            color: ${m};\n            -webkit-box-orient: vertical;\n            -webkit-user-select: none;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            text-align: left;\n            margin-bottom: 10px;\n            box-sizing: border-box;\n            font-size: 16px;\n            position: relative;\n          }\n          ._stay-sinffer-title::before{\n            content: '';\n            background: url(${_}) 50% 50% no-repeat;\n            background-size: 18px;\n            width: 18px;\n            height: 18px;\n            position: absolute;\n            left: 15px;\n            top: 50%;\n            transform: translate(0, -50%);\n            }\n          }\n          ._stay-sinffer-title span{\n            font-weight: 600;\n            color: ${h}\n          }\n          ._stay-sinffer-tool{\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 9px 15px;\n            height: 38px;\n            box-sizing: border-box;\n          }\n          ._stay-sinffer-tool .__tool{\n            width: 50%;\n            height: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            color: ${h}\n          }\n          ._stay-sinffer-tool .__tool img{\n            width: 20px;\n          }\n          ._stay-sinffer-tool .__tool span{\n            padding-left: 10px;\n          }\n          ._stay-sinffer-tool .__airplay{\n            \n            border-right: 0.5px solid ${f};\n          }\n          ._stay-sinffer-tool .__pip{\n\n          }\n          ._stay-sinffer-download{\n            width:100%;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: flex-start;\n            flex-direction: column;\n            align-items: center;\n          }\n          ._stay-quality-item{\n            height: 38px;\n            box-sizing: border-box;\n            width:100%;\n            padding-right: 20px;\n            position: relative;\n            color: ${m};\n            text-align:left;\n            font-size: 16px;\n            border-top: 0.5px solid ${f};\n            padding: 0 15px;\n            display: flex;\n            align-items: center;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n          }\n          ._stay-quality-item .__stay-hd{\n            border: 1px solid ${v};\n            background: ${b};\n            color: ${v};\n            font-size: 12px;\n            font-weight: 600;\n            display: inline-block;\n            padding: 0px 4px;\n            border-radius: 4px;\n            margin-left: 10px;\n            align-items: center;\n          }\n          ._stay-quality-item::after{\n            content:"";\n            background: url(${y}) no-repeat 50% 50%;  \n            background-size: 14px;\n            position: absolute;\n            right: 15px;\n            top: 50%;\n            transform: translate(0, -52%);\n            width: 14px;\n            height: 20px;\n          }\n          @keyframes zoom {\n            0% {transform: scale(1.05)}\n            100% {transform: scale(1);${O}}\n          }\n          @keyframes fadein {\n            0% {\n              transform: translate(0, -100%);\n            }\n            100% {\n              transform: none;\n            }\n          }\n          @keyframes fadeout {\n              0% {\n                transform: translate(0,100%);\n              }\n              100% {\n                  transform: none;\n              }\n          }\n        </style>`,q=['<div id="__stay_sinffer_modal" class="__stay-modal-box" >','<div class="__stay-sinffer-content">','<div class="__stay-content">','<div class="__stay-sinffer-poster">'+D+"</div>",'<div class="_stay-sinffer-popup">','<div class="_stay-sinffer-title">'+r.title+"</div>",'<div class="_stay-sinffer-download">',E,"</div>","</div>","</div>","</div>","</div>"];return document.body.append(w.parseToDOM(T)),document.body.append(w.parseToDOM(q.join(""))),document.querySelector("#__stay_sinffer_modal")}()).style.visibility="visible";const m=document.querySelector("#__stay_sinffer_modal ._stay-sinffer-popup");document.querySelector("#__stay_sinffer_modal .__stay-sinffer-content").classList.add("__stay-trans");let f=setTimeout((function(){p.classList.add("__stay-show-modal"),m.style.visibility="visible",clearTimeout(f),f=0}),400);p.addEventListener("touchmove",(t=>{t.preventDefault(),t.stopPropagation()}),!1),p.addEventListener("touchstart",(t=>{t.preventDefault(),p.classList.remove("__stay-show-modal"),m.style.animation="fadeout .5s;";let e=setTimeout((()=>{p&&document.body.removeChild(p),document.body.removeChild(document.querySelector("#__style_sinffer_style")),clearTimeout(e),e=0}),200)}),!1);const g=document.querySelectorAll("#__stay_sinffer_modal ._stay-quality-item");if(g&&g.length)for(let t=0;t<g.length;t++)g[t].addEventListener("touchstart",(t=>{t=t.target.getAttribute("stay-download");var e=document.createElement("a");e.href=t,e.click()}))}function R(t){var e,n;return O()?(e=u.decodeFunStr,e=new Function("return "+e),n=w.queryParams(t,"url"),t=w.queryParams(t,"s"),t=e()(decodeURIComponent(t)),decodeURIComponent(n)+"&sig="+t):""}function P(t){return O()?R(t):t}function N(t){return t&&t.length?(t=t.sort(w.compare("bitrate")).pop()).url||(O()?R(t.signatureCipher):t.signatureCipher):""}function k(){let t=setTimeout((()=>{{let t={},e=window.location.host,n=(l=window.location.href,t.hostUrl=l,null);-1<e.indexOf("pornhub.com")&&(n=(n=document.querySelector("#videoShow #videoPlayerPlaceholder .mgp_videoWrapper .mgp_videoPoster img"))||document.querySelector("#videoShow #videoPlayerPlaceholder .mgp_videoWrapper"),t=I(t)),t.downloadUrl&&U(null,n,t)}clearTimeout(t),t=0}),400)}function I(t){if((t=t||{}).videoKey=w.queryURLParams(window.location.href,"viewkey"),window.VIDEO_SHOW&&(!t.videoKey||t.videoKey==window.VIDEO_SHOW.vkey)){t.title||(t.title=window.VIDEO_SHOW.videoTitle),t.poster||(t.poster=window.VIDEO_SHOW.videoImage);var e=window.VIDEO_SHOW.playerId;if(e&&(e=e.split("_"),1<e.length&&(e="flashvars_"+e[1],e=window[e].mediaDefinitions,e&&e.length))){let n,r=[];e.forEach((e=>{"hls"==e.format&&"string"==typeof e.quality&&e.videoUrl&&r.push({downloadUrl:e.videoUrl,qualityLabel:e.quality,quality:Number(e.quality)}),!e.defaultQuality||"boolean"!=typeof e.defaultQuality&&"number"!=typeof e.defaultQuality||(n=e.defaultQuality,t.downloadUrl)||(t.downloadUrl=e.videoUrl)})),t.qualityList=r}}return t}function M(t){if(!t)return{};var e={};if(e.title=t.title,e.poster=t.poster,e.downloadUrl=t.playurl,t.clarityUrl&&t.clarityUrl.length){let n=[];t.clarityUrl.forEach((t=>{t.vodVideoHW,n.push({downloadUrl:t.url,qualityLabel:t.title,quality:t.key})})),e.qualityList=n}return e}function j(){var t=document.querySelector(".art-player-wrapper .art-video-player .art-poster");return t&&(t=t.getAttribute("style"),t)?w.matchUrlInString(t):(t=document.querySelector("#bdMainPlayer .art-video-player .art-poster"),t&&(t=t.getAttribute("style"),t)?w.matchUrlInString(t):"")}function F(){var t=document.querySelector(".adVideoPageV3 .curVideoInfo h3.videoTitle");return(t=t||document.querySelector(".video-info .video-info-title"))||(t=document.querySelector(".video-main .video-content .video-title .video-title-left"))?t.textContent:""}function z(){var t=document.querySelector(".html5-video-player .html5-video-container video");return t?t.getAttribute("src"):""}function V(){var t=document.querySelector(".slim-video-metadata-header .slim-video-information-content .slim-video-information-title");return(t=t||document.querySelector("#title h1.style-scope"))?t.textContent:""}function W(){var t=document.querySelector(".ytp-cued-thumbnail-overlay-image");return t&&(t=t.getAttribute("style"),t)?w.matchUrlInString(t):(t=document.querySelector(".html5-video-player .ytp-cued-thumbnail-overlay .ytp-cued-thumbnail-overlay-image"),t&&(t=t.getAttribute("style"),t)?w.matchUrlInString(t):(t=document.querySelector(".video-wrapper .background-style-black"),t&&(t=t.getAttribute("style"),t)?w.matchUrlInString(t):""))}function B(){for(let e=1;e<10;e++){let n;if(t=e,n=setTimeout((()=>{if((d=document.querySelector("#player-base"))&&d.getAttribute("src")){var t=d.getAttribute("src");let n=t;var e=t.split("/");H(n=t.startsWith("/")?e[3]:e[2],t,!0),b.forEach((t=>{clearTimeout(t)}))}}),200*t),d&&d.getAttribute("src"))break;b.push(n)}var t}async function H(e,n,r){o=e,i=n;var o,i,a=await new Promise(((e,n)=>{if(t)s.runtime.sendMessage({from:"sniffer",operate:"fetchYoutubeDecodeFun",pathUuid:o,pathUrl:i},(t=>{t=t&&t.decodeFun?t.decodeFun:"",e(t)}));else{const t=Math.random().toString(36).substring(2,9),n=r=>{r.data.pid===t&&"GET_YOUTUBE_DECODE_FUN_RESP"===r.data.name&&(e(r.data.decodeFun),window.removeEventListener("message",n))};window.postMessage({id:t,pid:t,name:"GET_YOUTUBE_DECODE_FUN",pathUuid:o,pathUrl:i}),window.addEventListener("message",n)}}));a?(Y(e,a),r&&L()):async function(e,n){if(n&&e)try{var r=await(await fetch("https://m.youtube.com"+n)).text();if(r){var o=r.match(/[a-zA-Z]+\=function\(a\)\{.*return\s+a\.join\(\"\"\)\};/g);let n="";if(n=o&&o.length?o[0]:n){let o="";var i=r.match(/var\s+[a-zA-Z]{2}\=\{[a-zA-Z]{2}\:function[\s\S]*(a\.reverse\(\)|splice\(0\,b\)|length\]\=c)\}\};/g);(o=i&&i.length?i[0]:o)&&(n=n.replace(/[a-zA-Z]+\=function\(a\)\{/g,"function decodeFun(a){"+o))?(function(t){try{var e,n=new Function("return "+t);if(e=n()(decodeURIComponent("%3D%3DQmbTSWlgLuztoft4F_uqQieS7_jBtboKab9zSp5WRdSAiApcTRtZLjBmFtzLXphJ0x_haWmWIhVtdAg8jD1rsKkRKAhIQRw8JQ0qOAOA")),decodeURIComponent("https://rr5---sn-o097znsk.googlevideo.com/videoplayback%3Fexpire%3D1679042695%26ei%3DJ9QTZJ6FFKeksfIPkaSL-Aw%26ip%3D2602%253Afeda%253A30%253Aae86%253A40e7%253A53ff%253Afe8b%253A9a97%26id%3Do-AI3u_uLu7PqvSwoVFwTG0fSk-puen4XBHxlLqco9MH8Q%26itag%3D135%26aitags%3D133%252C134%252C135%252C160%252C242%252C243%252C244%252C278%26source%3Dyoutube%26requiressl%3Dyes%26mh%3D_m%26mm%3D31%252C26%26mn%3Dsn-o097znsk%252Csn-a5meknzk%26ms%3Dau%252Conr%26mv%3Dm%26mvi%3D5%26pl%3D44%26initcwndbps%3D2135000%26vprv%3D1%26mime%3Dvideo%252Fmp4%26ns%3DwhOrAPi40PxLIKHeHvAaoDIL%26gir%3Dyes%26clen%3D18438908%26dur%3D584.533%26lmt%3D1635010443575003%26mt%3D1679020854%26fvip%3D5%26keepalive%3Dyes%26fexp%3D24007246%26c%3DMWEB%26txp%3D5432434%26n%3D3BrEIxrXFc7SkC%26sparams%3Dexpire%252Cei%252Cip%252Cid%252Caitags%252Csource%252Crequiressl%252Cvprv%252Cmime%252Cns%252Cgir%252Cclen%252Cdur%252Clmt%26lsparams%3Dmh%252Cmm%252Cmn%252Cms%252Cmv%252Cmvi%252Cpl%252Cinitcwndbps%26lsig%3DAG3C_xAwRgIhAKYBlOvRZiHPnnEJJ5foNn7LZU1cgGvfyO3WU9TjETfZAiEA6PvSgRq0gdcsBBTTj0VHXybmMwb-ouW2TVIYGmG_PG0%253D")+"&sig="+e)return 1}catch(t){}}(n)&&function(e,n){if(t)s.runtime.sendMessage({from:"sniffer",operate:"saveYoutubeDecodeFun",pathUuid:e,randomFunStr:n},(t=>{}));else{const t=Math.random().toString(36).substring(2,9),r=e=>{e.data.pid===t&&"SAVE_YOUTUBE_DECODE_FUN_STR_RESP"===e.data.name&&window.removeEventListener("message",r)};window.postMessage({id:t,pid:t,name:"SAVE_YOUTUBE_DECODE_FUN_STR",pathUuid:e,randomFunStr:n}),window.addEventListener("message",r)}}(e,n),Y(e,n)):Y(e,"")}else Y(e,"")}else Y(e,"")}catch(n){Y(e,"")}else Y(e,"")}(e,n)}function Y(t,e){u={pathUuid:t,decodeFunStr:e},r.decodeFunStr=e,window.localStorage.setItem("__stay_decode_str",JSON.stringify(u))}function $(t){!async function(){i||(e=!0,i=await T(),e=!1),a||(n=!0,a=await q(),n=!1)}(),async function(){var t;-1<c.indexOf("youtube.com")&&((t=window.localStorage.getItem("__stay_decode_str"))&&(u=JSON.parse(t)).decodeFunStr?L:B)()}(),S(t)}$(!1),document.onreadystatechange=()=>{"complete"===document.readyState&&$(!0)},Object.defineProperty(r,"randomPathUuid",{get:function(){return randomPathUuid},set:function(t){(randomPathUuid=t)!=p&&H(p=t,m,!1)}}),Object.defineProperty(r,"decodeFunStr",{get:function(){return decodeFunStr},set:function(t){(decodeFunStr=t)&&L()}})}let l,c=window.location.href,u=void new Set;window.addEventListener("message",(t=>{if(t&&t.data&&t.data.name){var e=t.data.name;if("VIDEO_LINK_CAPTURE"===e){var n=t.data.urls||new Set;n=(u=n,{from:"sniffer",operate:"VIDEO_INFO_PUSH",videoPageUrl:c,videoLinkSet:u});s.runtime.sendMessage(n,(t=>{}))}else if("VIDEO_INFO_CAPTURE"===e)n=t.data.videoList||[],l=n,n={from:"sniffer",operate:"VIDEO_INFO_PUSH",videoPageUrl:c,videoInfoList:l},s.runtime.sendMessage(n,(t=>{}));else if("GET_STAY_AROUND"===e){let e=t.data.pid;s.runtime.sendMessage({from:"sniffer",operate:"GET_STAY_AROUND"},(t=>{window.postMessage({pid:e,name:"GET_STAY_AROUND_RESP",response:t})}))}else if("GET_LONG_PRESS_STATUS"===e){let e=t.data.pid;s.runtime.sendMessage({from:"popup",operate:"getLongPressStatus"},(t=>{t=t&&t.longPressStatus?t.longPressStatus:"on",window.postMessage({pid:e,name:"GET_LONG_PRESS_STATUS_RESP",longPressStatusRes:t})}))}else if("GET_YOUTUBE_DECODE_FUN"===e){let e=t.data.pid;n=t.data.pathUuid;var r=t.data.pathUrl;s.runtime.sendMessage({from:"sniffer",operate:"fetchYoutubeDecodeFun",pathUrl:r,pathUuid:n},(t=>{t=t&&t.decodeFun?t.decodeFun:"",window.postMessage({pid:e,name:"GET_YOUTUBE_DECODE_FUN_RESP",decodeFun:t})}))}else if("SAVE_YOUTUBE_DECODE_FUN_STR"===e){let e=t.data.pid;r=t.data.pathUuid,n=t.data.randomFunStr,s.runtime.sendMessage({from:"sniffer",operate:"saveYoutubeDecodeFun",pathUuid:r,randomFunStr:n},(t=>{window.postMessage({pid:e,name:"SAVE_YOUTUBE_DECODE_FUN_STR_RESP",decodeFun:""})}))}}}))}}})();