(()=>{var t={9662:(t,e,r)=>{var n=r(614),o=r(6330),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a function")}},6077:(t,e,r)=>{var n=r(614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},5787:(t,e,r)=>{var n=r(7976),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw o("Incorrect invocation")}},9670:(t,e,r)=>{var n=r(111),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not an object")}},1318:(t,e,r)=>{function n(t){return function(e,r,n){var s,l=o(e),c=a(l),u=i(n,c);if(t&&r!=r){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((t||u in l)&&l[u]===r)return t||u||0;return!t&&-1}}var o=r(5656),i=r(1400),a=r(6244);t.exports={includes:n(!0),indexOf:n(!1)}},3658:(t,e,r)=>{"use strict";var n=r(9781),o=r(3157),i=TypeError,a=Object.getOwnPropertyDescriptor;r=n&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=r?function(t,e){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:(t,e,r)=>{r=r(1702);var n=r({}.toString),o=r("".slice);t.exports=function(t){return o(n(t),8,-1)}},648:(t,e,r)=>{var n=r(1694),o=r(614),i=r(4326),a=r(5112)("toStringTag"),s=Object,l="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=s(t),a))?e:l?i(t):"Object"==(e=i(t))&&o(t.callee)?"Arguments":e}},9920:(t,e,r)=>{var n=r(2597),o=r(3887),i=r(1236),a=r(3070);t.exports=function(t,e,r){for(var s=o(e),l=a.f,c=i.f,u=0;u<s.length;u++){var d=s[u];n(t,d)||r&&n(r,d)||l(t,d,c(e,d))}}},8880:(t,e,r)=>{var n=r(9781),o=r(3070),i=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,r)=>{var n=r(614),o=r(3070),i=r(6339),a=r(3072);t.exports=function(t,e,r,s){var l=(s=s||{}).enumerable,c=void 0!==s.name?s.name:e;if(n(r)&&i(r,c,s),s.global)l?t[e]=r:a(e,r);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},3072:(t,e,r)=>{var n=r(7854),o=Object.defineProperty;t.exports=function(e,r){try{o(n,e,{value:r,configurable:!0,writable:!0})}catch(t){n[e]=r}return r}},9781:(t,e,r)=>{r=r(7293),t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all;t.exports={all:e,IS_HTMLDDA:void 0===e&&void 0!==e}},317:(t,e,r)=>{var n=r(7854),o=(r=r(111),n.document),i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(9007199254740991<t)throw e("Maximum allowed index exceeded");return t}},3678:t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:(t,e,r)=>{r=r(5005),t.exports=r("navigator","userAgent")||""},7392:(t,e,r)=>{var n,o,i=r(7854),a=(r=r(8113),i.process);i=i.Deno,a=a&&a.versions||i&&i.version,i=a&&a.v8;!(o=i?0<(n=i.split("."))[0]&&n[0]<4?1:+(n[0]+n[1]):o)&&r&&(!(n=r.match(/Edge\/(\d+)/))||74<=n[1])&&(n=r.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(t,e,r)=>{r=r(1702);var n=Error,o=r("".replace),i=(r=String(n("zxcasd").stack),/\n\s*at [^:]*:[^\n]*/),a=i.test(r);t.exports=function(t,e){if(a&&"string"==typeof t&&!n.prepareStackTrace)for(;e--;)t=o(t,i,"");return t}},2109:(t,e,r)=>{var n=r(7854),o=r(1236).f,i=r(8880),a=r(8052),s=r(3072),l=r(9920),c=r(4705);t.exports=function(t,e){var r,u,d,p=t.target,m=t.global,f=t.stat,g=m?n:f?n[p]||s(p,{}):(n[p]||{}).prototype;if(g)for(r in e){if(u=e[r],d=t.dontCallGetSet?(d=o(g,r))&&d.value:g[r],!c(m?r:p+(f?".":"#")+r,t.forced)&&void 0!==d){if(typeof u==typeof d)continue;l(u,d)}(t.sham||d&&d.sham)&&i(u,"sham",!0),a(g,r,u,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},4374:(t,e,r)=>{r=r(7293),t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,r)=>{r=r(4374);var n=Function.prototype.call;t.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},6530:(t,e,r)=>{var n=r(9781),o=(r=r(2597),Function.prototype),i=n&&Object.getOwnPropertyDescriptor,a=(r=r(o,"name"),r&&"something"===function(){}.name);n=r&&(!n||i(o,"name").configurable);t.exports={EXISTS:r,PROPER:a,CONFIGURABLE:n}},1702:(t,e,r)=>{r=r(4374);var n=Function.prototype,o=n.call;n=r&&n.bind.bind(o,o);t.exports=r?n:function(t){return function(){return o.apply(t,arguments)}}},5005:(t,e,r)=>{var n=r(7854),o=r(614);t.exports=function(t,e){return arguments.length<2?(r=n[t],o(r)?r:void 0):n[t]&&n[t][e];var r}},8173:(t,e,r)=>{var n=r(9662),o=r(8554);t.exports=function(t,e){return t=t[e],o(t)?void 0:n(t)}},7854:(t,e,r)=>{function n(t){return t&&t.Math==Math&&t}t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(t,e,r)=>{var n=r(1702),o=r(7908),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:t=>{t.exports={}},4664:(t,e,r)=>{var n=r(9781),o=r(7293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(1702),o=r(7293),i=r(4326),a=Object,s=n("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s(t,""):a(t)}:a},9587:(t,e,r)=>{var n=r(614),o=r(111),i=r(7674);t.exports=function(t,e,r){return i&&n(e=e.constructor)&&e!==r&&o(e=e.prototype)&&e!==r.prototype&&i(t,e),t}},2788:(t,e,r)=>{var n=r(1702),o=r(614),i=(r=r(5465),n(Function.toString));o(r.inspectSource)||(r.inspectSource=function(t){return i(t)}),t.exports=r.inspectSource},9909:(t,e,r)=>{var n,o,i,a,s=r(4811),l=r(7854),c=r(111),u=r(8880),d=r(2597),p=r(5465),m=r(6200),f=(r=r(3501),"Object already initialized"),g=l.TypeError,y=(l=l.WeakMap,s||p.state?((i=p.state||(p.state=new l)).get=i.get,i.has=i.has,i.set=i.set,n=function(t,e){if(i.has(t))throw g(f);return e.facade=t,i.set(t,e),e},o=function(t){return i.get(t)||{}},function(t){return i.has(t)}):(r[a=m("state")]=!0,n=function(t,e){if(d(t,a))throw g(f);return e.facade=t,u(t,a,e),e},o=function(t){return d(t,a)?t[a]:{}},function(t){return d(t,a)}));t.exports={set:n,get:o,has:y,enforce:function(t){return y(t)?o(t):n(t,{})},getterFor:function(t){return function(e){if(c(e)&&(e=o(e)).type===t)return e;throw g("Incompatible receiver, "+t+" required")}}}},3157:(t,e,r)=>{var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},614:(t,e,r)=>{r=r(4154);var n=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===n}:function(t){return"function"==typeof t}},4705:(t,e,r)=>{function n(t,e){return(t=l[s(t)])==u||t!=c&&(i(e)?o(e):!!e)}var o=r(7293),i=r(614),a=/#|\.prototype\./,s=n.normalize=function(t){return String(t).replace(a,".").toLowerCase()},l=n.data={},c=n.NATIVE="N",u=n.POLYFILL="P";t.exports=n},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,r)=>{var n=r(614),o=(r=r(4154),r.all);t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===o}:function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},2190:(t,e,r)=>{var n=r(5005),o=r(614),i=r(7976),a=(r=r(3307),Object);t.exports=r?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,a(t))}},6244:(t,e,r)=>{var n=r(7466);t.exports=function(t){return n(t.length)}},6339:(t,e,r)=>{var n=r(7293),o=r(614),i=r(2597),a=r(9781),s=r(6530).CONFIGURABLE,l=r(2788),c=(r=r(9909),r.enforce),u=r.get,d=Object.defineProperty,p=a&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),m=String(String).split("String");r=t.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!i(t,"name")||s&&t.name!==e)&&(a?d(t,"name",{value:e,configurable:!0}):t.name=e),p&&r&&i(r,"arity")&&t.length!==r.arity&&d(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?a&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}return r=c(t),i(r,"source")||(r.source=m.join("string"==typeof e?e:"")),t};Function.prototype.toString=r((function(){return o(this)&&u(this).source||l(this)}),"toString")},4758:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){return t=+t,(0<t?r:e)(t)}},6277:(t,e,r)=>{var n=r(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},3070:(t,e,r)=>{var n=r(9781),o=r(4664),i=r(3353),a=r(9670),s=r(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",m="writable";e.f=n?i?function(t,e,r){var n;return a(t),e=s(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&m in r&&!r[m]&&(n=u(t,e))&&n[m]&&(t[e]=r.value,r={configurable:(p in r?r:n)[p],enumerable:(d in r?r:n)[d],writable:!1}),c(t,e,r)}:c:function(t,e,r){if(a(t),e=s(e),a(r),o)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),o=r(6916),i=r(5296),a=r(9114),s=r(5656),l=r(4948),c=r(2597),u=r(4664),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=s(t),e=l(e),u)try{return d(t,e)}catch(t){}if(c(t,e))return a(!o(i.f,t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),o=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,r)=>{r=r(1702),t.exports=r({}.isPrototypeOf)},6324:(t,e,r)=>{var n=r(1702),o=r(2597),i=r(5656),a=r(1318).indexOf,s=r(3501),l=n([].push);t.exports=function(t,e){var r,n=i(t),c=0,u=[];for(r in n)!o(s,r)&&o(n,r)&&l(u,r);for(;e.length>c;)!o(n,r=e[c++])||~a(u,r)||l(u,r);return u}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){return t=n(this,t),!!t&&t.enumerable}:r},7674:(t,e,r)=>{var n=r(1702),o=r(9670),i=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(r){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},2140:(t,e,r)=>{var n=r(6916),o=r(614),i=r(111),a=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&o(r=t.toString)&&!i(s=n(r,t)))return s;if(o(r=t.valueOf)&&!i(s=n(r,t)))return s;if("string"!==e&&o(r=t.toString)&&!i(s=n(r,t)))return s;throw a("Can't convert object to primitive value")}},3887:(t,e,r)=>{var n=r(5005),o=r(1702),i=r(8006),a=r(5181),s=r(9670),l=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(s(t)),r=a.f;return r?l(e,r(t)):e}},4488:(t,e,r)=>{var n=r(8554),o=TypeError;t.exports=function(t){if(n(t))throw o("Can't call method on "+t);return t}},6200:(t,e,r)=>{var n=r(2309),o=r(9711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:(t,e,r)=>{var n=r(7854),o=(r=r(3072),"__core-js_shared__");n=n[o]||r(o,{});t.exports=n},2309:(t,e,r)=>{var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,r)=>{var n=r(7392);r=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:(t,e,r)=>{var n=r(9303),o=Math.max,i=Math.min;t.exports=function(t,e){return t=n(t),t<0?o(t+e,0):i(t,e)}},5656:(t,e,r)=>{var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9303:(t,e,r)=>{var n=r(4758);t.exports=function(t){return t=+t,t!=t||0==t?0:n(t)}},7466:(t,e,r)=>{var n=r(9303),o=Math.min;t.exports=function(t){return 0<t?o(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(4488),o=Object;t.exports=function(t){return o(n(t))}},7593:(t,e,r)=>{var n=r(6916),o=r(111),i=r(2190),a=r(8173),s=r(2140),l=(r=r(5112),TypeError),c=r("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r=a(t,c);if(r){if(r=n(r,t,e=void 0===e?"default":e),!o(r)||i(r))return r;throw l("Can't convert object to primitive value")}return s(t,e=void 0===e?"number":e)}},4948:(t,e,r)=>{var n=r(7593),o=r(2190);t.exports=function(t){return t=n(t,"string"),o(t)?t:t+""}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},1340:(t,e,r)=>{var n=r(648),o=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,r)=>{r=r(1702);var n=0,o=Math.random(),i=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++n+o,36)}},3307:(t,e,r)=>{r=r(6293),t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,r)=>{var n=r(9781);r=r(7293);t.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(t,e,r)=>{var n=r(7854);r=r(614),n=n.WeakMap;t.exports=r(n)&&/native code/.test(String(n))},5112:(t,e,r)=>{var n=r(7854),o=r(2309),i=r(2597),a=r(9711),s=r(6293),l=r(3307),c=o("wks"),u=n.Symbol,d=u&&u.for,p=l?u:u&&u.withoutSetter||a;t.exports=function(t){var e;return i(c,t)&&(s||"string"==typeof c[t])||(e="Symbol."+t,s&&i(u,t)?c[t]=u[t]:c[t]=(l&&d?d:p)(e)),c[t]}},7658:(t,e,r)=>{"use strict";var n=r(2109),o=r(7908),i=r(6244),a=r(3658),s=r(7207),l=(r=r(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}());n({target:"Array",proto:!0,arity:1,forced:r||l},{push:function(t){var e=o(this),r=i(e),n=arguments.length;s(r+n);for(var l=0;l<n;l++)e[r]=arguments[l],r++;return a(e,r),r}})},2801:(t,e,r)=>{"use strict";function n(){d(this,w);var t=m((e=arguments.length)<1?void 0:arguments[0]),e=m(e<2?void 0:arguments[1],"Error");e=new b(t,e);return(t=v(t)).name=h,c(e,"stack",l(1,g(t.stack,1))),p(e,this,n),e}var o,i=r(2109),a=r(7854),s=r(5005),l=r(9114),c=r(3070).f,u=r(2597),d=r(5787),p=r(9587),m=r(6277),f=r(3678),g=r(1060),y=r(9781),h=(r=r(1913),"DOMException"),v=s("Error"),b=s(h),w=n.prototype=b.prototype,_="stack"in v(h),E="stack"in new b(1,2),x=(y=b&&y&&Object.getOwnPropertyDescriptor(a,h),a=!(!y||y.writable&&y.configurable),y=_&&!a&&!E,i({global:!0,constructor:!0,forced:r||y},{DOMException:y?n:b}),s(h));_=x.prototype;if(_.constructor!==x)for(var S in r||c(_,"constructor",l(1,x)),f)!u(f,S)||u(x,o=(S=f[S]).s)||c(x,o,l(6,S.c))}},e={};function r(n){var o=e[n];return void 0!==o||(o=e[n]={exports:{}},t[n](o,o.exports,r)),o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();{let a;r(2801),r(7658),void 0!==window.browser&&(a=window.browser);const s=a=void 0!==window.chrome?window.chrome:a;{try{{var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;let d=window.location.host,p=document.createElement("script"),m=(p.type="text/javascript",p.id="stay_inject_parse_video_js_"+d,`\n\nconst handleInjectParseVideoJS = ${o}\n\nhandleInjectParseVideoJS(false);`);if(p.appendChild(document.createTextNode(m)),document.body)document.body.appendChild(p);else{let f=new n(((t,e)=>{document.body&&(document.body.appendChild(p),f.disconnect())}));f.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}document.addEventListener("securitypolicyviolation",(t=>{o(!0)}))}catch(i){}function o(t){let e="",r="",n=window.location.href,o=window.location.host,i={},a="",l="",c=[],u={},d=new Set;const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;let m,f=[];const g={compare:function(t){return(e,r)=>e[t]-r[t]},isMobileOrIpad:function(){const t=navigator.userAgent;return!!["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"].filter((e=>t.includes(e))).length},isMobile:function(){const t=navigator.userAgent;return!!["Android","iPhone","SymbianOS","Windows Phone","iPod"].filter((e=>t.includes(e))).length},queryURLParams:function(t,e){return e=new RegExp("[?&#]+"+e+"=([^?&#]+)").exec(t),e&&e[1]||""},queryParams:function(t,e){return t?this.queryURLParams("https;//stap.app?"+t,e):""},matchUrlInString:function(t){var e=new RegExp("(https?|http)?(:)?//[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]","g");t=t.match(e);return t&&t.length?t[0]:""},isURL:function(t){return!!t&&/^http[s]?:\/\/.*/.test(t)},completionSourceUrl:function(t){return t?(/^(f|ht)tps?:\/\//i.test(t)||(/^\/\//i.test(t)?t=window.location.protocol+t:/^\//i.test(t)&&(t=window.location.origin+t)),t):""},checkCharLengthAndSubStr:function(t,e){return t?(e=e||80,t.replace(/[^x00-xff]/g,"01").length<=e?t:t.substr(0,e)):""},isChinese(t){return!!t&&!!/.*[u4e00-u9fa5]+.*$/.test(t)},urlEncodeChinese(t){var e;return t&&(e=new RegExp("[\\u4E00-\\u9FFF]","g"),t.replace(e,(function(t){return window.encodeURI(t)})))},getUrlPathName:function(t){let e="",r=(e=(this.isURL(t)?new URL(t):new URL(n)).pathname).split("/");return(r=r.filter((t=>{if(t&&""!=t)return t}))).pop()},generateUuid:function(t,e){t=t||32;var r,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");let o,i=[];if(e=e||n.length,t)for(o=0;o<t;o++)i[o]=n[0|Math.random()*e];else for(i[8]=i[13]=i[18]=i[23]="_",i[14]="4",o=0;o<36;o++)i[o]||(r=0|16*Math.random(),i[o]=n[19==o?3&r|8:r]);return i.join("")},isBase64(t){if(!t)return!1;if(/^data:.*\w+;base64,/.test(t))return!0;if(""===t||""===t.trim())return!1;try{return window.btoa(window.atob(t))==t}catch(t){return!1}},isDark(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},parseToDOM(t){var e=document.createElement("template");return"string"==typeof t?(e.innerHTML=t,e.content):t},getHostname(t){if(!t)return"";try{return new URL(t).hostname.toLowerCase()}catch(I){return t.split("/")[0].toLowerCase()}},div(t,e){let r,n,o=0,i=0;try{o=t.toString().split(".")[1].length}catch(t){o=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return r=Number(t.toString().replace(".","")),n=Number(e.toString().replace(".","")),this.mul(r/n,Math.pow(10,i-o))},sub(t,e){let r,n,o;try{r=t.toString().split(".")[1].length}catch(t){r=0}try{n=e.toString().split(".")[1].length}catch(t){n=0}return o=Math.pow(10,Math.max(r,n)),(this.mul(t,o)-this.mul(e,o))/o},mul(t,e){let r=0,n=t.toString(),o=e.toString();try{r+=n.split(".")[1].length}catch(t){}try{r+=o.split(".")[1].length}catch(t){}return Number(n.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,r)},add(t,e){let r,n,o;try{r=t.toString().split(".")[1].length}catch(t){r=0}try{n=e.toString().split(".")[1].length}catch(t){n=0}return o=Math.pow(10,Math.max(r,n)),(this.mul(t,o)+this.mul(e,o))/o}};class y{constructor(t,e){this.dom=t,this.timer=0,this.init(e)}init(t){this.touchstart(t),this.touchend(),this.touchmove(),this.bindLongPressEventFlag()}bindLongPressEventFlag(){this.dom.setAttribute("stay-long-press","yes")}touchstart(t){const e=this;e.dom.removeEventListener("touchstart",(function(r){e.handleLongPress(r,t)})),e.dom.addEventListener("touchstart",(function(r){return e.handleTargetTouchend(r.target),e.timer=setTimeout(((t,r)=>{e.handleLongPress(t,r)}),600,r,t),!1}),!1)}handleTargetTouchend(t){const e=this;t&&t.addEventListener("touchend",(r=>{e.handleTouchend(r,t)}))}handleLongPress(t,e){if(t.preventDefault(),t.stopPropagation(),!h(this.dom)){t=t.changedTouches[0];try{t.target.addEventListener("contextmenu",(function(t){t.preventDefault()}))}catch(t){}"function"==typeof e&&(e(),this.timer=0)}}touchend(){const t=this;t.dom.removeEventListener("touchend",(function(e){t.handleTouchend(e,null)})),t.dom.addEventListener("touchend",(function(e){return t.handleTouchend(e,null),!1}))}handleTouchend(t,e){const r=this;if(!h(this.dom)&&(clearTimeout(this.timer),0!=this.timer))try{e&&e.removeEventListener("touchend",(t=>{clearTimeout(r.timer)}))}catch(t){}}touchmove(){const t=this;function e(){h(t.dom)||(clearTimeout(t.timer),t.timer=0)}t.dom.removeEventListener("touchmove",(function(t){e()})),t.dom.addEventListener("touchmove",(function(t){return e(),!1}))}}function h(t){return!t||(t=window.getComputedStyle(t))&&("none"===t.display||"hidden"===t.visibility)}class v{constructor(t,e){this.dom=t,this.stayLongPressTimer=0,this.distance=10,this.init(e)}getDomPageStartX(){return this.dom.getBoundingClientRect().left}getDomPageStartY(){return(document.documentElement.scrollTop||window.pageYOffset)+this.dom.getBoundingClientRect().top}getDomPageEndX(){return this.getDomPageStartX()+this.dom.clientWidth}getDomPageEndY(){return this.getDomPageStartY()+this.dom.clientHeight}init(t){this.touchstart(t),this.touchend(),this.touchmove(),this.bindLongPressEventFlag()}bindLongPressEventFlag(){this.dom.setAttribute("stay-long-press","yes")}touchstart(t){const e=this;document.body.removeEventListener("touchstart",(function(r){return e.handleTargetEvent(r,t),!1})),document.body.addEventListener("touchstart",(function(r){return e.handleTargetTouchend(r.target),e.handleTargetEvent(r,t),!1}),!1)}handleTargetTouchend(t){const e=this;t&&t.addEventListener("touchend",(r=>{e.touchEndCallback(r,t)}))}handleTargetEvent(t,e){t.stopPropagation(),t.preventDefault();const r=this;t=t.changedTouches[0];var n=t.pageX,o=t.pageY;!h(r.dom)&&Math.abs(t.pageX-n)<=r.distance&&n>=r.getDomPageStartX()&&n<=r.getDomPageEndX()&&o>=r.getDomPageStartY()&&o<=r.getDomPageEndY()&&(this.stayLongPressTimer=window.setTimeout(((t,e)=>{r.stayLongPressTimer=0;try{var n=t.target.classList;n.contains("__stay-unselect")||n.add("__stay-unselect"),n.contains("__stay-touch-action")||n.add("__stay-touch-action"),"function"==typeof e&&e(),t.target.addEventListener("contextmenu",(function(t){t.preventDefault()}))}catch(t){}}),600,t,e))}touchend(){const t=this;document.body.removeEventListener("touchend",(function(e){t.touchEndCallback(e,null)})),document.body.addEventListener("touchend",(function(e){return t.touchEndCallback(e,null),!1}))}touchEndCallback(t,e){const r=this;if(!h(this.dom)&&(clearTimeout(this.stayLongPressTimer),0!=this.stayLongPressTimer))try{e&&e.removeEventListener("touchend",(t=>{r.touchEndCallback(t,null)}))}catch(t){}}touchmove(){const t=this;function e(){h(t.dom)||(window.clearTimeout(t.stayLongPressTimer),t.stayLongPressTimer=0)}document.body.removeEventListener("touchmove",(function(t){t.preventDefault(),t.stopPropagation(),e()})),document.body.addEventListener("touchmove",(function(t){return t.preventDefault(),t.stopPropagation(),e(),!1}))}}function b(t){new p((function(t){try{t.forEach((function(t){o=window.location.host,m=document.querySelectorAll("video");var e=t.target.querySelectorAll("video");("VIDEO"===t.target.nodeName||e&&e.length)&&m&&m.length&&w(m)}))}catch(t){}})).observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0});let e=(m=document.querySelectorAll("video"))&&m.length;if(e||(m=document.querySelectorAll(".post-content shreddit-player"),e=m&&m.length),e)w(m);else if(w(),t){let t=!1;for(let e=1;e<10;e++){let r;if(function(e){r=setTimeout((()=>{m=document.querySelectorAll("video"),(t=m&&m.length)&&(w(m),f.forEach((t=>{clearTimeout(t)})))}),200*e)}(e),t)break;f.push(r)}}}function w(t){if(t&&t.length){var e=t.length;let r=0;Array.from(t).forEach((t=>{if(t&&t instanceof HTMLElement){let a=t.getAttribute("stay-sniffing");a||(a=g.generateUuid(),t.setAttribute("stay-sniffing",a));var e,i=t;let s=t.getAttribute("src");s||(e=t.querySelector("source"))&&(t=e,s=e.getAttribute("src")),s&&function(t,e,r){let i={},a=t.getAttribute("poster"),s=t.getAttribute("title"),u=t.getAttribute("src"),p=[],m=(n=window.location.href,e);if(u=g.completionSourceUrl(u),a||(f=document.querySelector("source[type='image/webp'] img"),a=f?f.getAttribute("src"):"",s=s||(f?f.getAttribute("alt"):"")),-1<o.indexOf("youtube.com")){let e=document.querySelector("#player-control-overlay .player-controls-background-container .player-controls-background");(e=(e=e||document.querySelector("#player-control-overlay"))||document.querySelector(".carousel-wrapper .video-wrapper .reel-player-overlay-main-content"))&&(m=e),i=function(t){var e=window.ytplayer,r=g.queryURLParams(n,"v");let o={},i=(o.poster=t.getAttribute("poster")||"",o.downloadUrl=t.getAttribute("src"),t.getAttribute("title"));if(o.title=i,t=e?e.bootstrapPlayerResponse:{},t&&t.videoDetails&&t.streamingData&&(!r||r===t.videoDetails.videoId)){var a=t.videoDetails,s=a.title||"",c=(a=(o.title=s,a.thumbnail),a=(a&&(a=a.thumbnails)&&a.length&&(o.poster=a.pop().url),t.microformat&&t.microformat.playerMicroformatRenderer&&t.microformat.playerMicroformatRenderer.thumbnail&&t.microformat.playerMicroformatRenderer.thumbnail.thumbnails.length&&(o.poster=t.microformat.playerMicroformatRenderer.thumbnail.thumbnails[0].url),t.streamingData),a.adaptiveFormats);if(a.formats,i=i||"",c&&c.length&&i.replace(/\s+/g,"")===s.replace(/\s+/g,"")){let t=[],r=new Set;a=e.bootstrapWebPlayerContextConfig?e.bootstrapWebPlayerContextConfig.jsUrl:"",a&&(s=a.split("/"),l=a.startsWith("/")?s[3]:s[2]),l&&k(l,a,!1),e=c.filter((t=>{if(-1<t.mimeType.indexOf("audio/webm"))return t}));let n=function(t){return t&&t.length?(t=t.sort(g.compare("bitrate")).pop()).url||(E()?A(t.signatureCipher):t.signatureCipher):""}(e);c.forEach((e=>{var i=e.mimeType;if(-1<i.indexOf("video/webm")&&e.url&&!r.has(e.quality)){r.add(e.quality);let a="";(a=i.match(/.*codecs=.*webm.*/g)?a:n)&&!g.isURL(a)&&(o.shouldDecode=!0),t.push({downloadUrl:e.url,qualityLabel:e.qualityLabel,quality:e.quality,audioUrl:a})}if(-1<i.indexOf("video/webm")&&e.signatureCipher&&!r.has(e.quality)){a=e.signatureCipher;var a=E()?A(a):a;let s="";((s=i.match(/.*codecs=.*webm.*/g)?s:n)&&!g.isURL(s)||a&&!g.isURL(a))&&(o.shouldDecode=!0),r.add(e.quality),t.push({downloadUrl:a,qualityLabel:e.qualityLabel,quality:e.quality,protect:!0,audioUrl:s})}})),t&&t.length&&(o.qualityList=t)}else o.title=i||P();o.downloadUrl=D(),o.poster||(o.poster=N())}else(o={}).title=i||P(),o.downloadUrl=D();let u=o.poster;return u=u||N(),r!=t.videoDetails.videoId&&(u=`https://i.ytimg.com/vi/${r}/hqdefault.jpg`),u=u||`https://i.ytimg.com/vi/${r}/hqdefault.jpg`,o.poster=u,function(t){return t&&-1<t.indexOf("pltype=adhost")?1:(t=document.querySelector("#container .video-ads"),!(!t||h(t)))}(o.downloadUrl)&&(o.type="ad"),o}(t)}else{var f,y;-1<o.indexOf("baidu.com")?i=function(t){let e={};if(e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),"activity.baidu.com"===o){var r=window.PAGE_DATA;if(r&&r.pageData&&r.pageData.remote&&r.pageData.remote.mainVideoList&&r.pageData.remote.mainVideoList.length)return i=r.pageData.remote.mainVideoList[0],r=r.pageData.remote.moreVideoList,e.title=i.title,e.poster=i.poster,e.downloadUrl=i.videoUrl,r&&r.length&&r.forEach((t=>{d.size&&d.has(t.vid)||g.isURL(t.videoUrl)&&(d.add(t.vid),c.push({title:t.title,poster:t.poster,downloadUrl:t.videoUrl,hostUrl:n,videoUuid:t.vid}))})),e;e.title=R();const t=document.querySelector(".stickyBlock .curVideoPlay video");t&&(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"))}else if("mbd.baidu.com"===o){var i=window.jsonData;if(i&&i.curVideoMeta&&(r=i.curVideoMeta,(e=T(r))&&Object.keys(e).length))return e;e.title=R(),e.poster=q()}else if("haokan.baidu.com"===o){var a=window.__PRELOADED_STATE__,s=g.queryURLParams(n,"vid"),l=t.getAttribute("src");if(l&&s&&-1<l.indexOf(s)){if(a&&a.curVideoMeta&&(l=a.curVideoMeta,(e=T(l))&&Object.keys(e).length))return e;e.title=R(),e.poster=q()}else e.title=t.parentElement.parentElement.querySelector("h3.land-recommend-bottom-title")?t.parentElement.parentElement.querySelector("h3.land-recommend-bottom-title").textContent:"",e.poster=t.parentElement&&t.parentElement.querySelector("img.video-img")?t.parentElement.querySelector("img.video-img").getAttribute("src"):""}else"pan.baidu.com"===o&&(e.title=R()),"m.baidu.com"===o&&((s=document.querySelector(".sfc-video-page-info .sfc-video-page-info-title h3.title-waterfallB"))&&(e.title=s.textContent),a=document.querySelector(".video-poster .c-img-wrapper img.c-img-img"))&&(e.poster=a.getAttribute("src"));return e}(t):-1<o.indexOf("bilibili.com")?i=function(t){let e={},r=(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),document.querySelector(".main-container .ep-info-pre .ep-info-title"));if(!r){let t=setTimeout((function(){return(r=document.querySelector(".video .share-video-info .title-wrapper .title-name span"))&&(e.title=r.textContent),clearTimeout(t),t=0,e}),200)}return r&&(e.title=r.textContent),e}(t):-1<o.indexOf("mobile.twitter.com")?((f=document.querySelector(".r-eqz5dr .r-1pi2tsx .r-1pi2tsx .r-1udh08x .r-1p0dtai div.css-1dbjc4n.r-6koalj.r-eqz5dr.r-1pi2tsx.r-13qz1uu"))&&(m=f),i=function(t){let e={},r=(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextElementSibling.childNodes[1]);return(r=r&&r.querySelector(".css-1dbjc4n .r-92ivih.r-1t01tom .r-1t982j2.r-1j3t67a .css-1dbjc4n.r-1kw4oii a[data-testid='tweetText'] span"))&&(e.title=g.checkCharLengthAndSubStr(r.textContent)),e}(t)):-1<o.indexOf("m.weibo.cn")?i=function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),n.match(/^.*\/detail\/.*/g)&&(e.title=g.checkCharLengthAndSubStr(document.querySelector(".weibo-main .weibo-text").textContent)),e}(t):-1<o.indexOf("iesdouyin.com")?i=function(t){var e={};e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector(".video-container img.poster");return t&&(e.poster=t.getAttribute("src")),t=document.querySelector(".desc .multi-line .multi-line_text"),t&&(e.title=t.textContent),e}(t):-1<o.indexOf("douyin.com")?(y=window.location.pathname,i=(-1<y.indexOf("/video")?function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector("div[data-e2e=video-detail] div[data-e2e=detail-video-info] div h2"),t&&(e.title=t.textContent),e}:function(t){var e,r={};r.poster=t.getAttribute("poster"),r.downloadUrl=t.getAttribute("src"),t=t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;return t&&((e=t.querySelector(".imgBackground img"))&&(r.poster=e.getAttribute("src")),e=t.querySelector(".video-info-detail .title span.e_h_fqNj"))&&(r.title=e.textContent),r})(t)):-1<o.indexOf("m.toutiao.com")?i=function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector(".video .xgplayer-placeholder .xgplayer-poster"),t&&(t=t.getAttribute("style"))&&(t=g.matchUrlInString(t),e.poster=t),t=document.querySelector(".video .video-header .video-title-wrapper .video-title"),t&&(e.title=t.textContent),e}(t):-1<o.indexOf("m.v.qq.com")?i=function(t){var e={};if(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector(".mod_play .player_container .txp_poster_img"),t&&(t=t.getAttribute("src"),t=g.completionSourceUrl(t),e.poster=t),t=document.querySelector(".mod_box .mod_bd .mod_video_info .video_title"),t){let r=t.textContent;r=r?r.trim():"",t=document.querySelector(".mod_box .mod_bd .mod_list_slider .slider_box .item.current span"),t&&(r=(r+=t.textContent)?r.trim():""),e.title=r}return e}(t):-1<o.indexOf("www.reddit.com")?i=function(t){var e={};return e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t=document.querySelector("shreddit-app shreddit-title"),t&&(e.title=t.getAttribute("title")),e}(t):-1<o.indexOf("pornhub.com")?((y=document.querySelector("#videoShow #videoPlayerPlaceholder .playerFlvContainer"))&&(m=y),i=function(t){var e={},r=(e.poster=t.getAttribute("poster"),e.downloadUrl=t.getAttribute("src"),t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement);return r&&r.classList.contains("playerWrapper")?((r=document.querySelector("#videoShow .categoryTags .headerWrap h1"))&&(r=r.textContent)&&(e.title=r.trim()),(r=document.querySelector("#videoPlayerPlaceholder img.videoElementPoster"))&&(e.poster=r.getAttribute("src")),L(e)):(r=t.parentNode.parentNode.parentNode.parentNode.parentNode,r&&"li"==r.tagName.toLowerCase()&&(t=r.querySelector(".videoWrapper .singleVideo a img.videoThumb"))&&(e.title=t.getAttribute("alt"),e.title&&(e.title="[Related videos] "+e.title),e.poster=t.getAttribute("src")),e)}(t)):-1<o.indexOf("facebook.com")?i=function(t){var e,r={};r.poster=t.getAttribute("poster"),r.downloadUrl=t.getAttribute("src"),r.title=t.getAttribute("title"),t=t.parentElement.parentElement.parentElement.parentElement.parentElement;return t&&t.classList.contains("displayed")&&"container"==t.getAttribute("data-type")&&((e=t.querySelector("div[data-type='video'] img.img"))&&(r.poster=e.getAttribute("src")),e=t.querySelector("div.displayed > div[data-type='container'] > div[data-type='container'] > div[data-type='container'] > div[data-type='text'] > div.native-text"))&&(r.title=e.textContent),r}(t):-1<o.indexOf("instagram.com")?i=function(t){let e={},r=(e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode);var n;return r&&r.classList.contains("_ab8w")&&r.classList.contains("_ab94")&&r.classList.contains("_ab99")&&r.classList.contains("_ab9h")&&r.classList.contains("_ab9m")&&r.classList.contains("_ab9p")&&r.classList.contains("_abcm")?((n=r.querySelector("._aatk .x1uhb9sk .x10l6tqk .x78zum5 img.x5yr21d"))&&(e.poster=n.getAttribute("src")),(n=r.querySelector("._ab9f div._ae1h._ae1i ._ae2s div._ae5q._akdn div div div"))&&n.textContent&&(e.title=n.textContent.replace("... more",""))):(r=t.parentNode.parentNode.parentNode.parentNode.parentNode)&&r.classList.contains("_a8b4")&&r.classList.contains("_acjh")&&(n=r.querySelector("div > div > div.x9f619.x1d8287x.xz4gly6  div.x6ikm8r.x10wlt62 span"))&&(e.title=n.textContent),e}(t):-1<o.indexOf("xiaohongshu.com")?i=function(t){var e={};if(e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t=document.querySelector(".video-container .video-banner .img-box"),t&&(t=t.getAttribute("style"),t=g.matchUrlInString(t))&&(e.poster=g.completionSourceUrl(t)),t=document.querySelector(".video-container .stage-bottom .author-desc-wrapper .author-desc"),t){let r=t.textContent;r&&(r=r.replace(/^展开/g,""),e.title=g.checkCharLengthAndSubStr(r))}return e}(t):-1<o.indexOf("jable.tv")?i=function(t){var e={};return e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t=document.querySelector(".video-info .info-header .header-left h4"),t&&(e.title=t.textContent),e}(t):-1<o.indexOf("hxaa79.com")&&(i=function(t){var e={};return e.poster=t.getAttribute("poster")||"",e.downloadUrl=t.getAttribute("src"),e.title=t.getAttribute("title"),t=document.querySelector(".play_main .play_main_1"),t&&(e.title=t.textContent),e}(t))}return i.downloadUrl&&(u=i.downloadUrl),u=g.completionSourceUrl(u),a=a||i.poster,s=s||i.title,i.qualityList&&i.qualityList.length&&(p=i.qualityList),s=s||document.title,s=s||g.getUrlPathName(u),a=g.completionSourceUrl(a),i.title=i.type&&"ad"==i.type?'<span style="font-weight: 700;">Ad·</span>'+s:s,i.poster=a,i.downloadUrl=u,i.hostUrl=n,i.qualityList=p,i.videoUuid=r,u&&_(e,m,i),i}(t,i,a).downloadUrl||r++}else r++})),r==e&&O()}else O()}function _(o,i,a){var l=a.downloadUrl;g.isURL(l)||(a.downloadUrl=n),a.videoKey&&!a.videoUuid&&(a.videoUuid=a.videoKey),l=a.qualityList;a.shouldDecode&&(a.qualityList=[],u[a.videoUuid]=l),async function(n,o,i){if(o&&g.isMobile()&&(!(r=r||await new Promise(((e,r)=>{if(t)s.runtime.sendMessage({from:"popup",operate:"getLongPressStatus"},(t=>{t=t&&t.longPressStatus?t.longPressStatus:"on",e(t)}));else{const t=Math.random().toString(36).substring(2,9),r=n=>{n.data.pid===t&&"GET_LONG_PRESS_STATUS_RESP"===n.data.name&&(e(n.data.longPressStatusRes),window.removeEventListener("message",r))};window.postMessage({id:t,pid:t,name:"GET_LONG_PRESS_STATUS"}),window.addEventListener("message",r)}})))||"off"!=r)&&(e||(a=await new Promise(((e,r)=>{if(t)s.runtime.sendMessage({from:"sniffer",operate:"GET_STAY_AROUND"},(t=>{t.body&&"{}"!=JSON.stringify(t.body)&&e(t.body)}));else{const t=Math.random().toString(36).substring(2,9),r=n=>{n.data.pid===t&&"GET_STAY_AROUND_RESP"===n.data.name&&(n=n.data&&n.data.response?n.data.response.body:"b",e(n),window.removeEventListener("message",r))};window.postMessage({id:t,pid:t,name:"GET_STAY_AROUND"}),window.addEventListener("message",r)}})),e=a),"a"==e)){var a=o.getAttribute("stay-long-press");if(!a||"yes"!=a){document.querySelector("#__style_sinffer_unselect")||document.body.append(g.parseToDOM('<style id="__style_sinffer_unselect">\n          .__stay-unselect, video{\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            -webkit-touch-callout: none;\n          }\n          .__stay-touch-action{\n            touch-action: none!important;\n          }\n        </style>')),o.classList.add("__stay-unselect"),o.classList.add("__stay-touch-action");var l=i.hostUrl;if(-1<l.indexOf("youtube.com")){var c=document.querySelector("#player-control-overlay");c=(c&&(c.classList.contains("__stay-touch-action")||c.classList.add("__stay-touch-action"),c.classList.contains("__stay-unselect")||c.classList.add("__stay-unselect")),document.querySelector("#player-control-overlay .player-controls-background-container .player-controls-background"));c&&(c.classList.contains("__stay-touch-action")||c.classList.add("__stay-touch-action"),c.classList.contains("__stay-unselect")||c.classList.add("__stay-unselect")),new y(o,(()=>{U(n,o,i)}))}else if(!(-1<l.indexOf("mobile.twitter.com")))if(-1<l.indexOf("pornhub.com"))o&&(o.classList.contains("__stay-touch-action")||o.classList.add("__stay-touch-action"),o.classList.contains("__stay-unselect")||o.classList.add("__stay-unselect")),new y(o,(()=>{U(n,o,i)}));else if(-1<l.indexOf("muiplayer.js.org")){let t=document.querySelector("#mplayer-media-wrapper");(t=t||document.querySelector("#mplayer-cover"))&&new y(t,(()=>{U(n,t,i)}))}new v(o,(()=>{U(n,o,i)}))}}}(o,i,a),d.size&&(d.has(a.videoUuid)||d.has(a.videoKey))?c.forEach((t=>(t.videoUuid!=a.videoUuid&&t.videoUuid!=a.videoKey||(t.downloadUrl=a.downloadUrl,t.poster=a.poster||"",t.title=a.title,t.hostUrl=a.hostUrl,t.qualityList=a.qualityList&&a.qualityList.length?a.qualityList:[],t.type=a.type||""),t))):(a.videoUuid&&d.add(a.videoUuid),c.push(a)),S()}function E(){return i&&Object.keys(i).length&&l&&i.decodeFunStr&&l==i.pathUuid}function x(){Object.keys(u).length&&E()&&(Object.keys(u).forEach(((t,e)=>{if(e.length){e.forEach((t=>(t.downloadUrl&&!g.isURL(t.downloadUrl)&&(t.downloadUrl=A(i.decodeFunStr,t.downloadUrl)),t.audioUrl&&!g.isURL(t.audioUrl)&&(t.audioUrl=A(i.decodeFunStr,t.audioUrl)),t)));let r=e.filter((t=>{if(t.downloadUrl)return t}));c.forEach((e=>{if(e.videoUuid==t)return e.qualityList=r,e})),delete u[t]}})),S())}function S(){var e;t?(e={from:"sniffer",operate:"VIDEO_INFO_PUSH",videoInfoList:c},s.runtime.sendMessage(e,(t=>{}))):window.postMessage({name:"VIDEO_INFO_CAPTURE",videoList:c})}function U(e,r,n){r.clientWidth;let o=r.clientHeight,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var a=window.innerWidth||document.documentElement.innerWidth||document.body.innerWidth;let l=r.getBoundingClientRect().top,c=r.getBoundingClientRect().left,u=("VIDEO"==r.tagName&&(l=r.parentNode.getBoundingClientRect().top,c=r.parentNode.getBoundingClientRect().left),c=10,a),d=g.div(g.mul(u,9),16),p=(o<g.div(i,2)&&(d=o),document.querySelector("#__stay_sinffer_modal"));(p=p||function(){let r=[{title:n.title,downloadUrl:n.downloadUrl,poster:n.poster,hostUrl:g.getHostname(n.hostUrl),uuid:""}],a="stay://x-callback-url/snifferVideo?list="+encodeURIComponent(JSON.stringify(r)),p="background-color: rgb(247,247,247);",m="rgb(54, 54, 57)",f="#E0E0E0",y="background-color: rgba(255, 255, 255, 1);",h="color:#000000;",v=t?s.runtime.getURL("img/popup-download-light.png"):"https://res.stayfork.app/scripts/8DF5C8391ED58046174D714911AD015E/icon.png";g.isDark()&&(y="background-color: rgba(0, 0, 0, 1);",h="color:#DCDCDC;",p="background-color: rgb(54, 54, 57);",v=t?s.runtime.getURL("img/popup-download-dark.png"):"https://res.stayfork.app/scripts/CFFCD2186E164262E0E776A545327605/icon.png",m="rgb(247,247,247)",f="#37372F");let b=1,w=`<div stay-download="${a}" class="_stay-quality-item ">${"ad"==n.type?"Download Ad":"Download"}</div>`,_=n.qualityList;if(_&&_.length){let t="";b=0,_.forEach((e=>{let o=e.downloadUrl,i=e.audioUrl;if(n.shouldDecode){if(!g.isURL(o)&&!(o=A(o)))return;if(i&&!g.isURL(i)&&!(i=A(i)))return}r=[{title:n.title,downloadUrl:o,poster:n.poster,hostUrl:g.getHostname(n.hostUrl),uuid:"",protect:e.protect||!1,audioUrl:i,qualityLabel:e.qualityLabel}],o="stay://x-callback-url/snifferVideo?list="+encodeURIComponent(JSON.stringify(r)),t+=`<div stay-download="${o}" class="_stay-quality-item">${e.qualityLabel}</div>`,b+=1})),w=t}let E=l,x=l;l<0?(x=0,i<=o&&(x=g.div(g.sub(i,d),2))):0==l?i<=o&&(x=g.div(g.sub(i,d),2)):(L=g.add(10,36),L=g.add(g.add(d,L),g.add(g.mul(b,38),36)),l>g.sub(i,L)&&(x=g.sub(i,L)));let S="",U=t?s.runtime.getURL("img/video-default.png"):"https://res.stayfork.app/scripts/BB8CD00276006365956C32A6556696AD/icon.png",O='<div class="__stay-poster-box" ><div class="__stay-default-poster"><img style="max-width:100%;max-height:100%;" src="'+U+'"/></div><span style="font-size:13px;padding-top: 20px; -webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;'+h+'">'+g.getHostname(n.hostUrl)+"</span></div>";n.poster&&(S="border-radius: 15px;",O=`<div class="__stay-video-poster" style="background:url('${n.poster}') 50% 50% no-repeat;background-size: cover;"></div>`),function(t,e,r){if(t&&"VIDEO"==t.tagName){t.setAttribute("autoplay","autoplay"),t.setAttribute("crossOrigin","anonymous");var n=document.createElement("canvas");e=(n.width=e,n.height=r,n.getContext("2d"));e.drawImage(t,0,0,n.width,n.height)}}(e,u,d);var L=`<style id="__style_sinffer_style">\n          .__stay-modal-box{\n            position: fixed; \n            z-index: 9999999; \n            width: 100%; \n            height: 100%; \n            text-align: center; \n            top: 0px;\n            -webkit-overflow-scrolling: touch;\n            margin: 0 auto;\n            transition: all 0.6s;\n            box-sizing: border-box;\n            visibility: hidden;\n          }\n          .__stay-show-modal{\n            background-color: rgba(0, 0, 0, 0.4);\n            -webkit-backdrop-filter: blur(8px); \n          }\n          .__stay-sinffer-content{\n            width:100%;\n            position: absolute;\n            left: 0;\n            -webkit-transform: translate3d(0, ${E}px, 0);\n            transform: translate3d(0, ${E}px, 0);\n            will-change: transform;\n            -webkit-transition: -webkit-transform .4s cubic-bezier(0,0,.25,1) 80ms;\n            transition: transform .4s cubic-bezier(0,0,.25,1) 80ms;\n            box-sizing: border-box;\n          }\n          .__stay-trans{\n            -webkit-transform: translate3d(0,${x}px,0);\n            transform: translate3d(0,${x}px,0);\n          }\n          .__stay-content{\n            width:100%;\n            position: relative;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            justify-items: center;\n            align-items: center;\n          }\n          ._stay-sinffer-popup{\n            width:230px;padding-top: 10px;box-sizing: border-box;border-radius:15px;\n            ${p}\n            position: relative;\n            margin: 16px auto 0 auto;\n            z-index:999999;\n            visibility: hidden;\n            animation: fadein .5s;\n          }\n          .__stay-sinffer-poster{\n            width: 100%;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            height: ${d}px;\n            padding: 0 ${c}px;\n            margin:0 auto;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            justify-items: center;\n            align-items: center;\n            box-sizing: border-box;\n            box-shadow: 0 0px 10px rgba(54,54,57,0.1);\n            transition: All 0.4s ease-in-out;\n            -webkit-transition: All 0.4s ease-in-out;\n            -moz-transition: All 0.4s ease-in-out;\n            -o-transition: All 0.4s ease-in-out;\n            animation-name: zoom;\n            animation-duration: 0.6s;\n          }\n          .__stay-video-poster{\n            // object-fit: contain;\n            // object-position: center;\n            width:100%;\n            height:100%;\n            background-position: center;\n            background-repeat: no-repeat;\n            border-radius: 15px;\n           \n          }\n          .__stay-poster-box{\n            width:100%;\n            height:100%;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            ${y}\n            border-radius: 10px;\n            box-shadow: 0 0px 10px rgba(54,54,57,0.1);\n          }\n          .__stay-default-poster{\n            width:80px;\n            height:60px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            justify-items: center;\n            align-items: center;\n            box-sizing: border-box;\n          }\n          ._stay-sinffer-title{\n            padding-left: 15px;\n            padding-right: 15px;\n            width: 100%;\n            height:36px;\n            line-height: 18px;\n            word-break:break-all;\n            word-wrap:break-word;\n            color: ${m};\n            -webkit-box-orient: vertical;\n            -webkit-user-select: none;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            text-align: left;\n            margin-bottom: 10px;\n            box-sizing: border-box;\n            font-size: 16px;\n          }\n          ._stay-sinffer-title span{\n            font-weight: 600;\n            color: ${h}\n          }\n          ._stay-sinffer-download{\n            width:100%;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: flex-start;\n            flex-direction: column;\n            align-items: center;\n          }\n          ._stay-quality-item{\n            height: 38px;\n            box-sizing: border-box;\n            width:100%;\n            padding-right: 20px;\n            position: relative;\n            color: ${m};\n            text-align:left;\n            font-size: 16px;\n            border-top: 0.5px solid ${f};\n            padding: 0 15px;\n            display: flex;\n            align-items: center;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n          }\n          ._stay-quality-item::after{\n            content:"";\n            background: url(${v}) no-repeat 50% 50%;  \n            background-size: 14px;\n            position: absolute;\n            right: 15px;\n            top: 50%;\n            transform: translate(0, -52%);\n            width: 14px;\n            height: 20px;\n          }\n          @keyframes zoom {\n            0% {transform: scale(1.05)}\n            100% {transform: scale(1);${S}}\n          }\n          @keyframes fadein {\n            0% {\n              transform: translate(0, -100%);\n            }\n            100% {\n              transform: none;\n            }\n          }\n          @keyframes fadeout {\n              0% {\n                transform: translate(0,100%);\n              }\n              100% {\n                  transform: none;\n              }\n          }\n        </style>`,T=['<div id="__stay_sinffer_modal" class="__stay-modal-box" >','<div class="__stay-sinffer-content">','<div class="__stay-content">','<div class="__stay-sinffer-poster">'+O+"</div>",'<div class="_stay-sinffer-popup">','<div class="_stay-sinffer-title">'+n.title+"</div>",'<div class="_stay-sinffer-download">',w,"</div>","</div>","</div>","</div>","</div>"];return document.body.append(g.parseToDOM(L)),document.body.append(g.parseToDOM(T.join(""))),document.querySelector("#__stay_sinffer_modal")}()).style.visibility="visible";const m=document.querySelector("#__stay_sinffer_modal ._stay-sinffer-popup");document.querySelector("#__stay_sinffer_modal .__stay-sinffer-content").classList.add("__stay-trans");let f=setTimeout((function(){p.classList.add("__stay-show-modal"),m.style.visibility="visible",clearTimeout(f),f=0}),400);p.addEventListener("touchmove",(t=>{t.preventDefault(),t.stopPropagation()}),!1),p.addEventListener("touchstart",(t=>{t.preventDefault(),p.classList.remove("__stay-show-modal"),m.style.animation="fadeout .5s;";let e=setTimeout((()=>{p&&document.body.removeChild(p),document.body.removeChild(document.querySelector("#__style_sinffer_style")),clearTimeout(e),e=0}),200)}),!1);const y=document.querySelectorAll("#__stay_sinffer_modal ._stay-quality-item");if(y&&y.length)for(let t=0;t<y.length;t++)y[t].addEventListener("touchstart",(t=>{t=t.target.getAttribute("stay-download");var e=document.createElement("a");e.href=t,e.click()}))}function A(t){var e,r;return E()?(e=i.decodeFunStr,e=new Function("return "+e),r=g.queryParams(t,"url"),t=g.queryParams(t,"s"),t=e()(decodeURIComponent(t)),decodeURIComponent(r)+"&sig="+t):""}function O(){let t=setTimeout((()=>{{let t={},e=window.location.host,r=(n=window.location.href,t.hostUrl=n,null);-1<e.indexOf("pornhub.com")&&(r=(r=document.querySelector("#videoShow #videoPlayerPlaceholder .mgp_videoWrapper .mgp_videoPoster img"))||document.querySelector("#videoShow #videoPlayerPlaceholder .mgp_videoWrapper"),t=L(t)),t.downloadUrl&&_(null,r,t)}clearTimeout(t),t=0}),400)}function L(t){if((t=t||{}).videoKey=g.queryURLParams(window.location.href,"viewkey"),window.VIDEO_SHOW&&(!t.videoKey||t.videoKey==window.VIDEO_SHOW.vkey)){t.title||(t.title=window.VIDEO_SHOW.videoTitle),t.poster||(t.poster=window.VIDEO_SHOW.videoImage);var e=window.VIDEO_SHOW.playerId;if(e&&(e=e.split("_"),1<e.length&&(e="flashvars_"+e[1],e=window[e].mediaDefinitions,e&&e.length))){let r,n=[];e.forEach((e=>{"hls"==e.format&&"string"==typeof e.quality&&e.videoUrl&&n.push({downloadUrl:e.videoUrl,qualityLabel:e.quality,quality:Number(e.quality)}),!e.defaultQuality||"boolean"!=typeof e.defaultQuality&&"number"!=typeof e.defaultQuality||(r=e.defaultQuality,t.downloadUrl)||(t.downloadUrl=e.videoUrl)})),t.qualityList=n}}return t}function T(t){if(!t)return{};var e={};if(e.title=t.title,e.poster=t.poster,e.downloadUrl=t.playurl,t.clarityUrl&&t.clarityUrl.length){let r=[];t.clarityUrl.forEach((t=>{t.vodVideoHW,r.push({downloadUrl:t.url,qualityLabel:t.title,quality:t.key})})),e.qualityList=r}return e}function q(){var t=document.querySelector(".art-player-wrapper .art-video-player .art-poster");return t&&(t=t.getAttribute("style"),t)?g.matchUrlInString(t):(t=document.querySelector("#bdMainPlayer .art-video-player .art-poster"),t&&(t=t.getAttribute("style"),t)?g.matchUrlInString(t):"")}function R(){var t=document.querySelector(".adVideoPageV3 .curVideoInfo h3.videoTitle");return(t=t||document.querySelector(".video-info .video-info-title"))||(t=document.querySelector(".video-main .video-content .video-title .video-title-left"))?t.textContent:""}function D(){var t=document.querySelector(".html5-video-player .html5-video-container video");return t?t.getAttribute("src"):""}function P(){var t=document.querySelector(".slim-video-metadata-header .slim-video-information-content .slim-video-information-title");return(t=t||document.querySelector("#title h1.style-scope"))?t.textContent:""}function N(){var t=document.querySelector(".ytp-cued-thumbnail-overlay-image");return t&&(t=t.getAttribute("style"),t)?g.matchUrlInString(t):(t=document.querySelector(".html5-video-player .ytp-cued-thumbnail-overlay .ytp-cued-thumbnail-overlay-image"),t&&(t=t.getAttribute("style"),t)?g.matchUrlInString(t):(t=document.querySelector(".video-wrapper .background-style-black"),t&&(t=t.getAttribute("style"),t)?g.matchUrlInString(t):""))}function C(){for(let e=1;e<10;e++){let r;if(t=e,r=setTimeout((()=>{if((a=document.querySelector("#player-base"))&&a.getAttribute("src")){var t=a.getAttribute("src");let r=t;var e=t.split("/");k(r=t.startsWith("/")?e[3]:e[2],t,!0),f.forEach((t=>{clearTimeout(t)}))}}),200*t),a&&a.getAttribute("src"))break;f.push(r)}var t}async function k(e,r,n){o=e,a=r;var o,a;r=await new Promise(((e,r)=>{if(t)s.runtime.sendMessage({from:"sniffer",operate:"fetchYoutubeDecodeFun",pathUuid:o,pathUrl:a},(t=>{t=t&&t.decodeFun?t.decodeFun:"",e(t)}));else{const t=Math.random().toString(36).substring(2,9),r=n=>{n.data.pid===t&&"GET_YOUTUBE_DECODE_FUN_RESP"===n.data.name&&(e(n.data.decodeFun),window.removeEventListener("message",r))};window.postMessage({id:t,pid:t,name:"GET_YOUTUBE_DECODE_FUN",pathUuid:o,pathUrl:a}),window.addEventListener("message",r)}}));r?(i={pathUuid:e,decodeFunStr:r},window.localStorage.setItem("__stay_decode_str",JSON.stringify(i)),n&&x()):(i={pathUuid:e,decodeFunStr:""},window.localStorage.setItem("__stay_decode_str",JSON.stringify(i)))}function I(t){!async function(){var t;-1<o.indexOf("youtube.com")&&((t=window.localStorage.getItem("__stay_decode_str"))&&(i=JSON.parse(t)).decodeFunStr?x:C)()}(),b(t)}I(!(document.onreadystatechange=()=>{"complete"===document.readyState&&I(!0)}))}let l,c=window.location.href,u=void new Set;window.addEventListener("message",(t=>{if(t&&t.data&&t.data.name){var e=t.data.name;if("VIDEO_LINK_CAPTURE"===e){var r=t.data.urls||new Set;r=(u=r,{from:"sniffer",operate:"VIDEO_INFO_PUSH",videoPageUrl:c,videoLinkSet:u});s.runtime.sendMessage(r,(t=>{}))}else if("VIDEO_INFO_CAPTURE"===e)r=t.data.videoList||[],l=r,r={from:"sniffer",operate:"VIDEO_INFO_PUSH",videoPageUrl:c,videoInfoList:l},s.runtime.sendMessage(r,(t=>{}));else if("GET_STAY_AROUND"===e){let e=t.data.pid;s.runtime.sendMessage({from:"sniffer",operate:"GET_STAY_AROUND"},(t=>{window.postMessage({pid:e,name:"GET_STAY_AROUND_RESP",response:t})}))}else if("GET_LONG_PRESS_STATUS"===e){let e=t.data.pid;s.runtime.sendMessage({from:"popup",operate:"getLongPressStatus"},(t=>{t=t&&t.longPressStatus?t.longPressStatus:"on",window.postMessage({pid:e,name:"GET_LONG_PRESS_STATUS_RESP",longPressStatusRes:t})}))}else if("GET_YOUTUBE_DECODE_FUN"===e){let n=t.data.pid;r=t.data.pathUuid,e=t.data.pathUrl,s.runtime.sendMessage({from:"sniffer",operate:"fetchYoutubeDecodeFun",pathUrl:e,pathUuid:r},(t=>{t=t&&t.decodeFun?t.decodeFun:"",window.postMessage({pid:n,name:"GET_YOUTUBE_DECODE_FUN_RESP",decodeFun:t})}))}}}))}}})();